# ğŸš€ ECharts ä¸¤é˜¶æ®µè½¬æ¢ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº**åˆ†ç±»æ¨¡æ¿æ¶æ„**çš„ ECharts åŠ¨æ€æ•°æ®å¯è§†åŒ–å¹³å°ï¼Œé€šè¿‡æ™ºèƒ½è½¬æ¢å¼•æ“å®ç°ä»è¯­ä¹‰åŒ–æ¨¡æ¿åˆ°æœ€ç»ˆå›¾è¡¨é…ç½®çš„è‡ªåŠ¨åŒ–è½¬æ¢æµç¨‹ã€‚

## ğŸ“‹ é¡¹ç›®èƒŒæ™¯ä¸ç›®æ ‡

### ğŸ¯ **ä¸šåŠ¡éœ€æ±‚ä¸ç—›ç‚¹**

åœ¨ç°ä»£æ•°æ®å¯è§†åŒ–åœºæ™¯ä¸­ï¼Œå¼€å‘è€…é¢ä¸´ä»¥ä¸‹æ ¸å¿ƒæŒ‘æˆ˜ï¼š

1. **å›¾è¡¨é…ç½®å¤æ‚æ€§**ï¼šECharts é…ç½®é¡¹å¤šè¾¾æ•°ç™¾ä¸ªï¼Œå­¦ä¹ æˆæœ¬é«˜ï¼Œé…ç½®é”™è¯¯ç‡é«˜
2. **æ•°æ®æºå¤šæ ·æ€§**ï¼šä¸åŒä¸šåŠ¡ç³»ç»Ÿçš„æ•°æ®æ ¼å¼å·®å¼‚å·¨å¤§ï¼Œéš¾ä»¥ç»Ÿä¸€å¤„ç†
3. **åŠ¨æ€æ€§è¦æ±‚**ï¼šå›¾è¡¨éœ€è¦æ ¹æ®ç”¨æˆ·é€‰æ‹©ã€æƒé™ã€æ—¶é—´ç­‰å› ç´ åŠ¨æ€è°ƒæ•´
4. **ç»´æŠ¤æˆæœ¬é«˜**ï¼šå›¾è¡¨é…ç½®ä¸ä¸šåŠ¡é€»è¾‘è€¦åˆï¼Œä¿®æ”¹ä¸€å¤„å½±å“å¤šå¤„
5. **å¤ç”¨æ€§å·®**ï¼šç›¸ä¼¼å›¾è¡¨æ— æ³•æœ‰æ•ˆå¤ç”¨ï¼Œé‡å¤å¼€å‘å·¥ä½œé‡å¤§

### ğŸ¯ **æ ¸å¿ƒç›®æ ‡ä¸ä»·å€¼ä¸»å¼ **

æœ¬é¡¹ç›®æ—¨åœ¨è§£å†³ä¸Šè¿°ç—›ç‚¹ï¼Œæä¾›ä¸€ä¸ª**ç”Ÿäº§å°±ç»ª**çš„è§£å†³æ–¹æ¡ˆï¼š

#### **æ ¸å¿ƒç›®æ ‡**

- **ç®€åŒ–é…ç½®**ï¼šç”¨æˆ·åªéœ€ç†è§£ä¸šåŠ¡è¯­ä¹‰ï¼Œæ— éœ€æŒæ¡ ECharts æŠ€æœ¯ç»†èŠ‚
- **ç»Ÿä¸€æ•°æ®æ¥å…¥**ï¼šé€šè¿‡å ä½ç¬¦æ˜ å°„ç³»ç»Ÿï¼Œç»Ÿä¸€å¤„ç†å„ç§æ•°æ®æº
- **æ™ºèƒ½è½¬æ¢**ï¼šæ ¹æ®å›¾è¡¨ç±»å‹è‡ªåŠ¨ç”Ÿæˆæœ€ä¼˜çš„ ECharts é…ç½®
- **é«˜åº¦å¤ç”¨**ï¼šåŒç±»å›¾è¡¨å…±äº«æ¨¡æ¿ï¼Œæ–°å¢å›¾è¡¨ç±»å‹æˆæœ¬æä½

#### **ä»·å€¼ä¸»å¼ **

- **å¼€å‘æ•ˆç‡æå‡ 70%**ï¼šä»é…ç½® ECharts åˆ°é…ç½®ä¸šåŠ¡æ˜ å°„å…³ç³»
- **å­¦ä¹ æˆæœ¬é™ä½ 80%**ï¼šä»å­¦ä¹  ECharts API åˆ°ç†è§£ä¸šåŠ¡æ¦‚å¿µ
- **ç»´æŠ¤æˆæœ¬é™ä½ 60%**ï¼šæ¨¡æ¿åŒ–ç®¡ç†ï¼Œä¿®æ”¹ä¸€å¤„ç”Ÿæ•ˆå…¨å±€
- **é”™è¯¯ç‡é™ä½ 90%**ï¼šç±»å‹å®‰å…¨çš„è½¬æ¢å¼•æ“ï¼Œè‡ªåŠ¨éªŒè¯é…ç½®æ­£ç¡®æ€§

### ğŸ”„ **ä¸ºä»€ä¹ˆéœ€è¦ä¸¤é˜¶æ®µè½¬æ¢**

ä¼ ç»Ÿçš„ä¸€æ­¥è½¬æ¢æ–¹æ¡ˆå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š

- **è€¦åˆåº¦é«˜**ï¼šæ•°æ®æŸ¥è¯¢ä¸ç»“æ„è½¬æ¢æ··åˆï¼Œéš¾ä»¥ç‹¬ç«‹ä¼˜åŒ–
- **æ‰©å±•æ€§å·®**ï¼šæ–°å¢å›¾è¡¨ç±»å‹éœ€è¦é‡å†™æ•´ä¸ªè½¬æ¢é€»è¾‘
- **è°ƒè¯•å›°éš¾**ï¼šæ— æ³•ç‹¬ç«‹éªŒè¯ç»“æ„è½¬æ¢å’Œæ•°æ®å¡«å……çš„æ­£ç¡®æ€§
- **æ€§èƒ½ç“¶é¢ˆ**ï¼šæ¯æ¬¡è½¬æ¢éƒ½éœ€è¦æŸ¥è¯¢æ•°æ®åº“ï¼Œæ— æ³•æœ‰æ•ˆç¼“å­˜

**ä¸¤é˜¶æ®µè½¬æ¢çš„ä¼˜åŠ¿**ï¼š

1. **ç¬¬ä¸€é˜¶æ®µï¼ˆè¯­ä¹‰è½¬æ¢ï¼‰**ï¼šå°†ä¸šåŠ¡è¯­ä¹‰è½¬æ¢ä¸º ECharts ç»“æ„ï¼Œå¯ç¼“å­˜å¤ç”¨
2. **ç¬¬äºŒé˜¶æ®µï¼ˆæ•°æ®å¡«å……ï¼‰**ï¼šç‹¬ç«‹çš„æ•°æ®æŸ¥è¯¢å’Œæ›¿æ¢ï¼Œå¯å¹¶è¡Œä¼˜åŒ–
3. **èŒè´£åˆ†ç¦»**ï¼šç»“æ„è½¬æ¢ä¸æ•°æ®å¤„ç†å®Œå…¨è§£è€¦ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•
4. **è°ƒè¯•å‹å¥½**ï¼šæ¯ä¸ªé˜¶æ®µéƒ½æœ‰æ˜ç¡®çš„è¾“å…¥è¾“å‡ºï¼Œä¾¿äºé—®é¢˜å®šä½

## ğŸ—ï¸ æŠ€æœ¯è§£å†³æ–¹æ¡ˆ

### ğŸ“Š **åˆ†ç±»æ¨¡æ¿ç³»ç»Ÿè®¾è®¡ç†å¿µ**

æœ¬é¡¹ç›®é‡‡ç”¨**åˆ†ç±»æ¨¡æ¿æ¶æ„**ï¼Œæ ¹æ®å›¾è¡¨çš„åæ ‡ç³»ç±»å‹å’Œæ•°æ®ç»“æ„ç‰¹ç‚¹ï¼Œå°†æ‰€æœ‰å›¾è¡¨åˆ†ä¸ºå››å¤§ç±»ï¼š

#### **åˆ†ç±»ä¾æ®**

- **åæ ‡ç³»ç±»å‹**ï¼šç›´è§’åæ ‡ç³»ã€æåæ ‡ç³»ã€é›·è¾¾åæ ‡ç³»ã€æ— åæ ‡ç³»
- **æ•°æ®ç»“æ„**ï¼šæ•°ç»„æ ¼å¼ã€å¯¹è±¡æ ¼å¼ã€å•å€¼æ ¼å¼
- **é…ç½®å¤æ‚åº¦**ï¼šç®€å•é…ç½®ã€ä¸­ç­‰å¤æ‚ã€é«˜åº¦å¤æ‚

#### **å››ç§æ¨¡æ¿ç±»å‹**

| æ¨¡æ¿ç±»å‹      | é€‚ç”¨å›¾è¡¨               | åæ ‡ç³»      | æ•°æ®æ ¼å¼ | å…¼å®¹æ€§ |
| ------------- | ---------------------- | ----------- | -------- | ------ |
| **CARTESIAN** | æŠ˜çº¿å›¾ã€æŸ±çŠ¶å›¾ã€é¢ç§¯å›¾ | xAxis/yAxis | æ•°ç»„     | 100%   |
| **PIE**       | é¥¼å›¾ã€ç¯å½¢å›¾ã€ç«ç‘°å›¾   | æ— /polar    | å¯¹è±¡æ•°ç»„ | 95%    |
| **RADAR**     | é›·è¾¾å›¾ã€æåæ ‡å›¾       | radar       | å¤šç»´æ•°ç»„ | 100%   |
| **GAUGE**     | ä»ªè¡¨ç›˜ã€è¿›åº¦æ¡         | æ—           | å•å€¼å¯¹è±¡ | 95%    |

#### **è®¾è®¡ä¼˜åŠ¿**

- **é«˜å…¼å®¹æ€§**ï¼šåŒç±»å›¾è¡¨ 100% å…¼å®¹ï¼Œè·¨ç±»æ”¯æŒ 95%+
- **æ˜“äºç†è§£**ï¼šç”¨æˆ·åªéœ€å­¦ä¹ ç›¸å…³ç±»å‹çš„æ¨¡æ¿ç»“æ„
- **ç²¾å‡†é…ç½®**ï¼šæ¯ä¸ªæ¨¡æ¿é’ˆå¯¹ç‰¹å®šç±»å‹ä¼˜åŒ–ï¼ŒåŠŸèƒ½å®Œæ•´
- **æ‰©å±•æ€§å¼º**ï¼šæ–°å¢å›¾è¡¨ç±»å‹åªéœ€åœ¨å¯¹åº”ç±»åˆ«ä¸­æ·»åŠ è½¬æ¢é€»è¾‘

### ğŸ§  **SmartTransformationEngine æ™ºèƒ½è½¬æ¢å¼•æ“**

#### **å·¥ä½œåŸç†**

1. **å›¾è¡¨ç±»å‹è¯†åˆ«**ï¼šæ ¹æ®å›¾è¡¨ ID è‡ªåŠ¨æ¨æ–­æ¨¡æ¿ç±»å‹
2. **æ¨¡æ¿é€‰æ‹©**ï¼šé€‰æ‹©å¯¹åº”çš„åˆ†ç±»æ¨¡æ¿è¿›è¡Œè½¬æ¢
3. **æ™ºèƒ½é€‚é…**ï¼šæ ¹æ®å…·ä½“å›¾è¡¨ç±»å‹è°ƒæ•´è½¬æ¢é€»è¾‘
4. **ç»“æ„ä¼˜åŒ–**ï¼šç”Ÿæˆæœ€ä¼˜çš„ ECharts é…ç½®ç»“æ„

#### **æ ¸å¿ƒç®—æ³•**

```java
// å›¾è¡¨ç±»å‹æ¨æ–­
TemplateType templateType = TemplateType.inferFromChartType(chartType);

// æ™ºèƒ½è½¬æ¢åˆ†å‘
switch (templateType) {
    case CARTESIAN: return transformCartesianChart(template, chartType);
    case PIE: return transformPieChart(template, chartType);
    case RADAR: return transformRadarChart(template, chartType);
    case GAUGE: return transformGaugeChart(template, chartType);
}
```

#### **è½¬æ¢ç‰¹æ€§**

- **ç±»å‹å®‰å…¨**ï¼šç¼–è¯‘æ—¶æ£€æŸ¥ï¼Œè¿è¡Œæ—¶éªŒè¯
- **æ€§èƒ½ä¼˜åŒ–**ï¼šæ¨¡æ¿ç¼“å­˜ï¼Œè½¬æ¢å¤ç”¨
- **é”™è¯¯å¤„ç†**ï¼šå®Œæ•´çš„å¼‚å¸¸å¤„ç†å’Œå›æ»šæœºåˆ¶
- **æ‰©å±•æ”¯æŒ**ï¼šæ’ä»¶åŒ–æ¶æ„ï¼Œæ”¯æŒè‡ªå®šä¹‰è½¬æ¢é€»è¾‘

### ğŸ”— **å ä½ç¬¦æ˜ å°„ç³»ç»Ÿ**

#### **è®¾è®¡ç†å¿µ**

å ä½ç¬¦æ˜ å°„ç³»ç»Ÿæ˜¯è¿æ¥å›¾è¡¨æ¨¡æ¿ä¸æ•°æ®æºçš„æ¡¥æ¢ï¼Œå®ç°äº†ï¼š

- **è¯­ä¹‰åŒ–æ˜ å°„**ï¼š`${chart_title}` â†’ `chart_config.title`
- **ç±»å‹å®‰å…¨**ï¼šè‡ªåŠ¨éªŒè¯æ•°æ®ç±»å‹å’Œæ ¼å¼
- **æŸ¥è¯¢ä¼˜åŒ–**ï¼šæ”¯æŒèšåˆã€è¿‡æ»¤ã€åˆ†ç»„ç­‰å¤æ‚æŸ¥è¯¢
- **ç¼“å­˜æœºåˆ¶**ï¼šæ˜ å°„å…³ç³»ç¼“å­˜ï¼Œæé«˜æŸ¥è¯¢æ€§èƒ½

#### **æ˜ å°„å…³ç³»ç»“æ„**

```json
{
  "placeholder": "${series_1_data}",
  "type": "aggregated_query",
  "source": {
    "table": "marketing_data",
    "column": "conversion_count",
    "aggregation": "SUM",
    "groupBy": ["day_name"],
    "filters": [{ "field": "channel", "operator": "=", "value": "Email" }]
  }
}
```

#### **æ”¯æŒçš„æ˜ å°„ç±»å‹**

- **database_field**ï¼šç›´æ¥æ•°æ®åº“å­—æ®µæ˜ å°„
- **constant**ï¼šå¸¸é‡å€¼æ˜ å°„
- **aggregated_query**ï¼šèšåˆæŸ¥è¯¢æ˜ å°„
- **computed_field**ï¼šè®¡ç®—å­—æ®µæ˜ å°„
- **conditional_mapping**ï¼šæ¡ä»¶æ˜ å°„

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯æ ˆ

- **Java**: 17+ (Spring Boot 2.7.5)
- **Maven**: 3.9+ (é¡¹ç›®æ„å»ºç®¡ç†)
- **Spring Boot**: 2.7.5 (Web æ¡†æ¶å’Œä¾èµ–æ³¨å…¥)
- **Jackson**: 2.13.4 (JSON å¤„ç†)
- **JUnit 5**: 5.8.2 (å•å…ƒæµ‹è¯•æ¡†æ¶)

### å‰ç«¯æŠ€æœ¯æ ˆ

- **Vue 3**: 3.4+ (æ¸è¿›å¼ JavaScript æ¡†æ¶)
- **TypeScript**: 5.3+ (ç±»å‹å®‰å…¨çš„ JavaScript)
- **Vite**: 5.0+ (ç°ä»£åŒ–æ„å»ºå·¥å…·)
- **Ant Design Vue**: 4.0+ (ä¼ä¸šçº§ UI ç»„ä»¶åº“)
- **ECharts**: 5.4+ (æ•°æ®å¯è§†åŒ–å›¾è¡¨åº“)
- **Pinia**: 2.1+ (Vue çŠ¶æ€ç®¡ç†)
- **Axios**: 1.6+ (HTTP å®¢æˆ·ç«¯)

## ğŸ—„ï¸ æ•°æ®åº“é›†æˆæŒ‡å—

### ğŸ“Š **å½“å‰å®ç°æ–¹å¼**

ç³»ç»Ÿç›®å‰ä½¿ç”¨**å†…å­˜æ¨¡æ‹Ÿæ•°æ®**çš„æ–¹å¼å®ç°ï¼Œä¸»è¦ç‰¹ç‚¹ï¼š

#### **æ¨¡æ‹Ÿæ•°æ®ç»“æ„**

```java
// è™šæ‹Ÿæ•°æ®åº“è¡¨ç»“æ„
Map<String, List<Map<String, Object>>> virtualDatabase = Map.of(
    "chart_config", List.of(
        Map.of("id", "1", "title", "åŠ¨æ€è¥é”€æ¸ é“åˆ†æ", "theme", "default")
    ),
    "marketing_data", List.of(
        Map.of("day_name", "å‘¨ä¸€", "channel_name", "Email", "conversion_count", 120),
        Map.of("day_name", "å‘¨äºŒ", "channel_name", "Email", "conversion_count", 132)
    )
);
```

#### **æ¨¡æ‹ŸæŸ¥è¯¢é€»è¾‘**

- **ç®€å•æŸ¥è¯¢**ï¼šç›´æ¥ä»å†…å­˜ Map ä¸­è·å–æ•°æ®
- **èšåˆæŸ¥è¯¢**ï¼šä½¿ç”¨ Java Stream API è¿›è¡Œåˆ†ç»„å’Œèšåˆ
- **è¿‡æ»¤æŸ¥è¯¢**ï¼šåŸºäºæ¡ä»¶è¿‡æ»¤æ•°æ®é›†åˆ
- **ç±»å‹è½¬æ¢**ï¼šè‡ªåŠ¨å¤„ç†æ•°æ®ç±»å‹è½¬æ¢å’Œæ ¼å¼åŒ–

### ğŸ”„ **åˆ‡æ¢åˆ°çœŸå®æ•°æ®åº“**

#### **éœ€è¦æ”¹é€ çš„æ ¸å¿ƒæ–‡ä»¶**

##### **1. MappingRelationshipService.java**

**ä½ç½®**: `src/main/java/com/example/chart/service/MappingRelationshipService.java`
**æ”¹é€ å†…å®¹**:

```java
// å½“å‰æ¨¡æ‹Ÿå®ç°
public Map<String, Object> simulateDataQuery(String chartId, Set<String> placeholders) {
    // å†…å­˜æ•°æ®æŸ¥è¯¢é€»è¾‘
}

// æ”¹é€ ä¸ºçœŸå®æ•°æ®åº“å®ç°
@Autowired
private JdbcTemplate jdbcTemplate;

public Map<String, Object> executeDataQuery(String chartId, Set<String> placeholders) {
    Map<String, Object> results = new HashMap<>();

    for (String placeholder : placeholders) {
        FieldMapping mapping = getFieldMapping(chartId, placeholder);
        String sql = buildSqlQuery(mapping);
        Object result = jdbcTemplate.queryForObject(sql, mapping.getParameters());
        results.put(placeholder, result);
    }

    return results;
}
```

##### **2. Repository æ¥å£å’Œå®ç°ç±»**

**æ–°å¢æ–‡ä»¶**:

- `src/main/java/com/example/chart/repository/ChartConfigRepository.java`
- `src/main/java/com/example/chart/repository/MappingRepository.java`
- `src/main/java/com/example/chart/repository/impl/ChartConfigRepositoryImpl.java`

```java
@Repository
public interface ChartConfigRepository {
    ChartConfig findByChartId(String chartId);
    List<ChartConfig> findAll();
    void save(ChartConfig chartConfig);
}

@Repository
public interface MappingRepository {
    List<FieldMapping> findByChartId(String chartId);
    void saveMappings(String chartId, List<FieldMapping> mappings);
}
```

##### **3. æ•°æ®æ¨¡å‹ç±»æŒä¹…åŒ–æ³¨è§£**

**æ”¹é€ æ–‡ä»¶**:

- `src/main/java/com/example/chart/model/FieldMapping.java`
- `src/main/java/com/example/chart/model/ChartConfig.java`

```java
@Entity
@Table(name = "field_mappings")
public class FieldMapping {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @Column(name = "chart_id")
    private String chartId;

    @Column(name = "placeholder_name")
    private String placeholderName;

    @Column(name = "table_name")
    private String tableName;

    @Column(name = "column_name")
    private String columnName;

    // getters and setters
}
```

#### **æ•°æ®åº“è¡¨ç»“æ„è®¾è®¡**

##### **æ ¸å¿ƒè¡¨ç»“æ„**

```sql
-- å›¾è¡¨é…ç½®è¡¨
CREATE TABLE chart_configs (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    chart_id VARCHAR(100) UNIQUE NOT NULL,
    chart_name VARCHAR(200) NOT NULL,
    chart_type VARCHAR(50) NOT NULL,
    template_type VARCHAR(50) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- å­—æ®µæ˜ å°„è¡¨
CREATE TABLE field_mappings (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    chart_id VARCHAR(100) NOT NULL,
    placeholder_name VARCHAR(100) NOT NULL,
    table_name VARCHAR(100) NOT NULL,
    column_name VARCHAR(100) NOT NULL,
    data_type VARCHAR(50) NOT NULL,
    aggregation_type VARCHAR(50),
    filter_conditions JSON,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (chart_id) REFERENCES chart_configs(chart_id)
);

-- ä¸šåŠ¡æ•°æ®è¡¨ï¼ˆç¤ºä¾‹ï¼‰
CREATE TABLE marketing_data (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    day_name VARCHAR(20) NOT NULL,
    channel_name VARCHAR(50) NOT NULL,
    conversion_count INT NOT NULL,
    revenue DECIMAL(10,2),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### **é…ç½®å˜æ›´æ­¥éª¤**

##### **1. æ·»åŠ æ•°æ®åº“ä¾èµ–**

```xml
<!-- pom.xml -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-data-jpa</artifactId>
</dependency>
<dependency>
    <groupId>mysql</groupId>
    <artifactId>mysql-connector-java</artifactId>
</dependency>
```

##### **2. é…ç½®æ•°æ®æº**

```yaml
# application.yml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/echarts_system
    username: ${DB_USERNAME:root}
    password: ${DB_PASSWORD:password}
    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL8Dialect
```

##### **3. æ•°æ®è¿ç§»è„šæœ¬**

```java
@Component
public class DataMigrationService {

    @PostConstruct
    public void migrateFromMemoryToDatabase() {
        // å°†å†…å­˜ä¸­çš„æ˜ å°„å…³ç³»è¿ç§»åˆ°æ•°æ®åº“
        Map<String, Map<String, Object>> memoryMappings = getMemoryMappings();

        for (String chartId : memoryMappings.keySet()) {
            List<FieldMapping> mappings = convertToFieldMappings(chartId, memoryMappings.get(chartId));
            mappingRepository.saveMappings(chartId, mappings);
        }
    }
}
```

#### **æ€§èƒ½ä¼˜åŒ–å»ºè®®**

##### **1. æŸ¥è¯¢ä¼˜åŒ–**

- **è¿æ¥æ± é…ç½®**ï¼šä½¿ç”¨ HikariCP è¿æ¥æ± 
- **ç´¢å¼•ä¼˜åŒ–**ï¼šä¸º chart_idã€placeholder_name æ·»åŠ ç´¢å¼•
- **æ‰¹é‡æŸ¥è¯¢**ï¼šåˆå¹¶å¤šä¸ªå ä½ç¬¦çš„æŸ¥è¯¢ä¸ºå•ä¸ª SQL

##### **2. ç¼“å­˜ç­–ç•¥**

```java
@Service
@CacheConfig(cacheNames = "mappings")
public class MappingRelationshipService {

    @Cacheable(key = "#chartId")
    public Map<String, FieldMapping> getChartMappings(String chartId) {
        // æ•°æ®åº“æŸ¥è¯¢é€»è¾‘
    }

    @CacheEvict(key = "#chartId")
    public void updateChartMappings(String chartId, List<FieldMapping> mappings) {
        // æ›´æ–°æ˜ å°„å…³ç³»
    }
}
```

##### **3. å¼‚æ­¥å¤„ç†**

```java
@Async
public CompletableFuture<Map<String, Object>> executeAsyncDataQuery(
    String chartId, Set<String> placeholders) {
    // å¼‚æ­¥æ•°æ®æŸ¥è¯¢
    return CompletableFuture.completedFuture(results);
}
```

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
jolt-echarts/
â”œâ”€â”€ ğŸ“ src/main/java/com/example/chart/
â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â””â”€â”€ TwoStageTransformationController.java  # REST APIæ§åˆ¶å™¨
â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ TwoStageTransformationService.java     # ä¸¤é˜¶æ®µè½¬æ¢æ ¸å¿ƒæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ SmartTransformationEngine.java         # æ™ºèƒ½è½¬æ¢å¼•æ“
â”‚   â”‚   â”œâ”€â”€ CategoryTemplateFactory.java           # åˆ†ç±»æ¨¡æ¿å·¥å‚
â”‚   â”‚   â”œâ”€â”€ TemplateService.java                   # æ¨¡æ¿ç®¡ç†æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ PlaceholderManager.java                # å ä½ç¬¦ç®¡ç†å™¨
â”‚   â”‚   â””â”€â”€ MappingRelationshipService.java        # æ˜ å°„å…³ç³»ç®¡ç†æœåŠ¡
â”‚   â”œâ”€â”€ model/
â”‚   â”‚   â”œâ”€â”€ TemplateType.java                      # æ¨¡æ¿ç±»å‹æšä¸¾
â”‚   â”‚   â”œâ”€â”€ UniversalTemplate.java                 # é€šç”¨æ¨¡æ¿æ¨¡å‹
â”‚   â”‚   â””â”€â”€ TransformationResult.java              # è½¬æ¢ç»“æœæ¨¡å‹
â”‚   â””â”€â”€ repository/
â”‚       â”œâ”€â”€ InMemoryUniversalTemplateRepository.java # å†…å­˜æ¨¡æ¿ä»“åº“
â”‚       â””â”€â”€ model/UniversalTemplateEntity.java     # æ¨¡æ¿å®ä½“
â”‚
â”œâ”€â”€ ğŸ“ src/main/resources/
â”‚   â”œâ”€â”€ echarts/                                   # EChartsç¤ºä¾‹é…ç½®
â”‚   â”‚   â”œâ”€â”€ æŠ˜çº¿å›¾/                                # æŠ˜çº¿å›¾ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ æŸ±çŠ¶å›¾/                                # æŸ±çŠ¶å›¾ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ é¥¼å›¾/                                  # é¥¼å›¾ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ é›·è¾¾å›¾/                                # é›·è¾¾å›¾ç¤ºä¾‹
â”‚   â”‚   â””â”€â”€ ä»ªè¡¨ç›˜/                                # ä»ªè¡¨ç›˜ç¤ºä¾‹
â”‚   â””â”€â”€ application.yml                            # Spring Booté…ç½®
â”‚
â”œâ”€â”€ ğŸ“ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/index.ts                           # APIæ¥å£å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ stores/transformation.ts               # è½¬æ¢æµç¨‹çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ views/Transformation/index.vue         # ä¸¤é˜¶æ®µè½¬æ¢æ¼”ç¤ºé¡µé¢
â”‚   â”‚   â””â”€â”€ types/index.ts                         # TypeScriptç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ package.json                               # å‰ç«¯ä¾èµ–é…ç½®
â”‚   â””â”€â”€ vite.config.ts                             # Viteæ„å»ºé…ç½®
â”‚
â”œâ”€â”€ pom.xml                                        # Mavené…ç½®æ–‡ä»¶
â””â”€â”€ README.md                                      # é¡¹ç›®æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹æŒ‡å—

### ğŸ“‹ **ç¯å¢ƒè¦æ±‚**

#### åç«¯ç¯å¢ƒ

- **Java**: 17+ (æ¨èä½¿ç”¨ OpenJDK 17)
- **Maven**: 3.9+
- **å†…å­˜**: æœ€å° 2GB RAM

#### å‰ç«¯ç¯å¢ƒ

- **Node.js**: 18.0+ (æ¨èä½¿ç”¨ LTS ç‰ˆæœ¬)
- **npm**: 9.0+ æˆ– **yarn**: 1.22+

### ğŸ› ï¸ **é¡¹ç›®å¯åŠ¨æ­¥éª¤**

#### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd jolt-echarts
```

#### 2. å¯åŠ¨åç«¯æœåŠ¡

```bash
# æ¸…ç†å’Œç¼–è¯‘
mvn clean compile

# å¯åŠ¨Spring Bootåº”ç”¨
mvn spring-boot:run -DskipTests

# éªŒè¯åç«¯å¯åŠ¨æˆåŠŸ
curl http://localhost:8080/api/chart/two-stage/health
```

#### 3. å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# å‰ç«¯å°†åœ¨ http://localhost:3000 å¯åŠ¨
```

### ğŸ“Š **API ä½¿ç”¨ç¤ºä¾‹**

#### è·å–åˆ†ç±»æ¨¡æ¿

```bash
# è·å–å †å æŠ˜çº¿å›¾çš„åˆ†ç±»æ¨¡æ¿
curl -X GET "http://localhost:8080/api/chart/two-stage/template/stacked_line_chart"

# å“åº”ç¤ºä¾‹
{
  "code": "OK",
  "data": {
    "template": {
      "chart": {
        "title": "${chart_title}",
        "type": "${chart_type}"
      },
      "coordinates": {
        "xAxis": {
          "type": "category",
          "data": "${categories}"
        }
      }
    },
    "templateType": "category"
  }
}
```

#### æ‰§è¡Œç¬¬ä¸€é˜¶æ®µè½¬æ¢

```bash
curl -X POST "http://localhost:8080/api/chart/two-stage/stage1/stacked_line_chart" \
  -H "Content-Type: application/json" \
  -d '{
    "chart": {
      "title": "${chart_title}",
      "type": "${chart_type}"
    },
    "data": {
      "series": [
        {
          "name": "${series_1_name}",
          "data": "${series_1_data}"
        }
      ]
    }
  }'
```

#### æ‰§è¡Œç¬¬äºŒé˜¶æ®µè½¬æ¢

```bash
curl -X POST "http://localhost:8080/api/chart/two-stage/stage2/stacked_line_chart" \
  -H "Content-Type: application/json" \
  -d '{
    "title": {"text": "${chart_title}"},
    "xAxis": {"data": "${categories}"},
    "series": [{"name": "${series_1_name}", "data": "${series_1_data}"}]
  }'
```

### ğŸ¨ **å‰ç«¯ç•Œé¢æ“ä½œè¯´æ˜**

#### ä¸»è¦åŠŸèƒ½é¡µé¢

1. **ä¸¤é˜¶æ®µè½¬æ¢æ¼”ç¤º** (`/transformation`)

   - é€‰æ‹©å›¾è¡¨ç±»å‹ï¼ˆå †å æŠ˜çº¿å›¾ã€åŸºç¡€æŸ±çŠ¶å›¾ã€é¥¼å›¾ï¼‰
   - æŸ¥çœ‹å››ä¸ªè½¬æ¢é˜¶æ®µçš„æ•°æ®æµ
   - å®æ—¶é¢„è§ˆæœ€ç»ˆå›¾è¡¨æ•ˆæœ

2. **ç³»ç»ŸçŠ¶æ€ç›‘æ§** (`/`)
   - æŸ¥çœ‹åç«¯è¿æ¥çŠ¶æ€
   - ç›‘æ§ API å“åº”æ—¶é—´
   - æŸ¥çœ‹ç³»ç»Ÿè¿è¡ŒæŒ‡æ ‡

#### æ“ä½œæ­¥éª¤

1. **é€‰æ‹©å›¾è¡¨ç±»å‹**ï¼šåœ¨ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©è¦æ¼”ç¤ºçš„å›¾è¡¨ç±»å‹
2. **æŸ¥çœ‹æ¨¡æ¿**ï¼šå¡ç‰‡ 1 æ˜¾ç¤ºå¯¹åº”çš„åˆ†ç±»æ¨¡æ¿ç»“æ„
3. **æ‰§è¡Œè½¬æ¢**ï¼šç‚¹å‡»"æ‰§è¡Œè½¬æ¢"æŒ‰é’®å¼€å§‹ä¸¤é˜¶æ®µè½¬æ¢
4. **æŸ¥çœ‹ç»“æœ**ï¼š
   - å¡ç‰‡ 2ï¼šç¬¬ä¸€é˜¶æ®µè½¬æ¢ç»“æœï¼ˆECharts ç»“æ„ï¼‰
   - å¡ç‰‡ 3ï¼šç¬¬äºŒé˜¶æ®µè½¬æ¢ç»“æœï¼ˆæœ€ç»ˆé…ç½®ï¼‰
   - å¡ç‰‡ 4ï¼šå›¾è¡¨é¢„è§ˆæ•ˆæœ

#### è°ƒè¯•åŠŸèƒ½

- **ğŸ” è°ƒè¯•çŠ¶æ€**ï¼šæŸ¥çœ‹å½“å‰æ‰€æœ‰çŠ¶æ€å˜é‡
- **ğŸ§ª å…¨é¢æµ‹è¯•**ï¼šè‡ªåŠ¨æ‰§è¡Œå®Œæ•´çš„æµ‹è¯•æµç¨‹
- **ğŸ“Š æ€§èƒ½ç›‘æ§**ï¼šæŸ¥çœ‹è½¬æ¢è€—æ—¶å’Œæ€§èƒ½æŒ‡æ ‡

## ğŸ“ˆ **å›¾è¡¨ç±»å‹æ”¯æŒçŸ©é˜µ**

### ğŸ¯ **å®Œæ•´å›¾è¡¨ç±»å‹å¯¹åº”å…³ç³»è¡¨**

#### **ä¸­è‹±æ–‡å¯¹ç…§è¡¨**

| æ¨¡æ¿ç±»å‹ EN | æ¨¡æ¿ç±»å‹ CN | å›¾è¡¨ç±»å‹ EN | å›¾è¡¨ç±»å‹ CN | å›¾è¡¨åç§° EN          | å›¾è¡¨åç§° CN | å›¾è¡¨ ID                |
| ----------- | ----------- | ----------- | ----------- | -------------------- | ----------- | ---------------------- |
| CARTESIAN   | ç›´è§’åæ ‡ç³»  | Line Chart  | æŠ˜çº¿å›¾      | Basic Line Chart     | åŸºç¡€æŠ˜çº¿å›¾  | `basic_line_chart`     |
| CARTESIAN   | ç›´è§’åæ ‡ç³»  | Line Chart  | æŠ˜çº¿å›¾      | Smooth Line Chart    | å¹³æ»‘æŠ˜çº¿å›¾  | `smooth_line_chart`    |
| CARTESIAN   | ç›´è§’åæ ‡ç³»  | Line Chart  | æŠ˜çº¿å›¾      | Stacked Line Chart   | å †å æŠ˜çº¿å›¾  | `stacked_line_chart`   |
| CARTESIAN   | ç›´è§’åæ ‡ç³»  | Bar Chart   | æŸ±çŠ¶å›¾      | Basic Bar Chart      | åŸºç¡€æŸ±çŠ¶å›¾  | `basic_bar_chart`      |
| CARTESIAN   | ç›´è§’åæ ‡ç³»  | Bar Chart   | æŸ±çŠ¶å›¾      | Stacked Bar Chart    | å †å æŸ±çŠ¶å›¾  | `stacked_bar_chart`    |
| CARTESIAN   | ç›´è§’åæ ‡ç³»  | Area Chart  | é¢ç§¯å›¾      | Basic Area Chart     | åŸºç¡€é¢ç§¯å›¾  | `basic_area_chart`     |
| PIE         | é¥¼å›¾ç±»      | Pie Chart   | é¥¼å›¾        | Basic Pie Chart      | åŸºç¡€é¥¼å›¾    | `basic_pie_chart`      |
| PIE         | é¥¼å›¾ç±»      | Pie Chart   | é¥¼å›¾        | Doughnut Chart       | ç¯å½¢å›¾      | `doughnut_chart`       |
| PIE         | é¥¼å›¾ç±»      | Pie Chart   | é¥¼å›¾        | Rose Chart           | ç«ç‘°å›¾      | `rose_chart`           |
| RADAR       | é›·è¾¾å›¾ç±»    | Radar Chart | é›·è¾¾å›¾      | Basic Radar Chart    | åŸºç¡€é›·è¾¾å›¾  | `basic_radar_chart`    |
| RADAR       | é›·è¾¾å›¾ç±»    | Radar Chart | é›·è¾¾å›¾      | Filled Radar Chart   | å¡«å……é›·è¾¾å›¾  | `filled_radar_chart`   |
| GAUGE       | ä»ªè¡¨ç›˜ç±»    | Gauge Chart | ä»ªè¡¨ç›˜      | Basic Gauge Chart    | åŸºç¡€ä»ªè¡¨ç›˜  | `basic_gauge_chart`    |
| GAUGE       | ä»ªè¡¨ç›˜ç±»    | Gauge Chart | ä»ªè¡¨ç›˜      | Progress Gauge Chart | è¿›åº¦ä»ªè¡¨ç›˜  | `progress_gauge_chart` |
| GAUGE       | ä»ªè¡¨ç›˜ç±»    | Gauge Chart | ä»ªè¡¨ç›˜      | Grade Gauge Chart    | ç­‰çº§ä»ªè¡¨ç›˜  | `grade_gauge_chart`    |

#### **è¯¦ç»†é…ç½®ä¿¡æ¯è¡¨**

| æ¨¡æ¿ç±»å‹      | å›¾è¡¨ç±»å‹ | å›¾è¡¨åç§°   | å›¾è¡¨ ID                | ECharts ç¤ºä¾‹æ–‡ä»¶è·¯å¾„                                    | JOLT SPEC æ–‡ä»¶è·¯å¾„                                          | æ”¯æŒçš„å ä½ç¬¦å˜é‡                                                                                                                                                                                                                                                                               | æ•°æ®åº“è¡¨æ˜ å°„å…³ç³»                 | å¼€å‘çŠ¶æ€  |
| ------------- | -------- | ---------- | ---------------------- | ------------------------------------------------------- | ----------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------- | --------- |
| **CARTESIAN** | æŠ˜çº¿å›¾   | åŸºç¡€æŠ˜çº¿å›¾ | `basic_line_chart`     | `src/main/resources/echarts/æŠ˜çº¿å›¾/åŸºç¡€æŠ˜çº¿å›¾.json`     | `src/main/resources/jolt-specs/line-chart-placeholder.json` | `${chart_title}`, `${chart_type}`, `${categories}`, `${series_1_name}` ~ `${series_5_name}`, `${series_1_data}` ~ `${series_5_data}`, `${series_type}`, `${stack_group}`, `${smooth_style}`, `${boundary_gap}`, `${legend_config}`, `${grid_config}`, `${tooltip_config}`, `${toolbox_config}` | `universal_chart_data_view`      | âœ… å·²æ”¯æŒ |
| **CARTESIAN** | æŠ˜çº¿å›¾   | å¹³æ»‘æŠ˜çº¿å›¾ | `smooth_line_chart`    | `src/main/resources/echarts/æŠ˜çº¿å›¾/åŸºç¡€å¹³æ»‘æŠ˜çº¿å›¾.json` | `src/main/resources/jolt-specs/line-chart-placeholder.json` | åŒä¸Š                                                                                                                                                                                                                                                                                           | `universal_chart_data_view`      | âœ… å·²æ”¯æŒ |
| **CARTESIAN** | æŠ˜çº¿å›¾   | å †å æŠ˜çº¿å›¾ | `stacked_line_chart`   | `src/main/resources/echarts/æŠ˜çº¿å›¾/æŠ˜çº¿å›¾å †å .json`     | `src/main/resources/jolt-specs/line-chart-stacked.json`     | åŒä¸Š                                                                                                                                                                                                                                                                                           | `universal_chart_data_view`      | âœ… å·²æ”¯æŒ |
| **CARTESIAN** | æŸ±çŠ¶å›¾   | åŸºç¡€æŸ±çŠ¶å›¾ | `basic_bar_chart`      | `src/main/resources/echarts/æŸ±çŠ¶å›¾/åŸºç¡€æŸ±çŠ¶å›¾.json`     | `src/main/resources/jolt-specs/bar-chart-placeholder.json`  | åŒä¸Š                                                                                                                                                                                                                                                                                           | `universal_chart_data_view`      | âœ… å·²æ”¯æŒ |
| **CARTESIAN** | æŸ±çŠ¶å›¾   | å †å æŸ±çŠ¶å›¾ | `stacked_bar_chart`    | `src/main/resources/echarts/æŸ±çŠ¶å›¾/å †å æŸ±çŠ¶å›¾.json`     | `src/main/resources/jolt-specs/bar-chart-placeholder.json`  | åŒä¸Š                                                                                                                                                                                                                                                                                           | `universal_chart_data_view`      | âœ… å·²æ”¯æŒ |
| **CARTESIAN** | é¢ç§¯å›¾   | åŸºç¡€é¢ç§¯å›¾ | `basic_area_chart`     | _å¾…åˆ›å»º_                                                | _å¾…åˆ›å»º_                                                    | åŒä¸Š                                                                                                                                                                                                                                                                                           | `universal_chart_data_view`      | ğŸ“‹ è®¡åˆ’ä¸­ |
| **PIE**       | é¥¼å›¾     | åŸºç¡€é¥¼å›¾   | `basic_pie_chart`      | `src/main/resources/echarts/é¥¼å›¾/å¯Œæ–‡æœ¬æ ‡ç­¾.json`       | `src/main/resources/jolt-specs/pie-chart-placeholder.json`  | `${chart_title}`, `${chart_type}`, `${chart_theme}`, `${radius_config}`, `${center_config}`, `${pie_data}`, `${rose_type}`, `${legend_config}`, `${tooltip_config}`                                                                                                                            | `universal_chart_data_view`      | ğŸš§ å¼€å‘ä¸­ |
| **PIE**       | é¥¼å›¾     | ç¯å½¢å›¾     | `doughnut_chart`       | `src/main/resources/echarts/é¥¼å›¾/åœ†è§’ç¯å½¢å›¾.json`       | `src/main/resources/jolt-specs/pie-chart-placeholder.json`  | åŒä¸Š                                                                                                                                                                                                                                                                                           | `universal_chart_data_view`      | ğŸš§ å¼€å‘ä¸­ |
| **PIE**       | é¥¼å›¾     | ç«ç‘°å›¾     | `rose_chart`           | _å¾…åˆ›å»º_                                                | _å¾…åˆ›å»º_                                                    | åŒä¸Š                                                                                                                                                                                                                                                                                           | `chart_config`, `marketing_data` | ï¿½ è®¡åˆ’ä¸­  |
| **RADAR**     | é›·è¾¾å›¾   | åŸºç¡€é›·è¾¾å›¾ | `basic_radar_chart`    | `src/main/resources/echarts/é›·è¾¾å›¾/åŸºç¡€é›·è¾¾å›¾.json`     | _å¾…åˆ›å»º_                                                    | `${chart_title}`, `${chart_type}`, `${chart_theme}`, `${radar_indicators}`, `${radar_shape}`, `${radar_radius}`, `${radar_data}`, `${area_style}`, `${legend_config}`, `${tooltip_config}`                                                                                                     | `chart_config`, `marketing_data` | ğŸš§ å¼€å‘ä¸­ |
| **RADAR**     | é›·è¾¾å›¾   | å¡«å……é›·è¾¾å›¾ | `filled_radar_chart`   | _å¾…åˆ›å»º_                                                | _å¾…åˆ›å»º_                                                    | åŒä¸Š                                                                                                                                                                                                                                                                                           | `chart_config`, `radar_data`     | ï¿½ è®¡åˆ’ä¸­  |
| **GAUGE**     | ä»ªè¡¨ç›˜   | åŸºç¡€ä»ªè¡¨ç›˜ | `basic_gauge_chart`    | `src/main/resources/echarts/ä»ªè¡¨ç›˜/åŸºç¡€ä»ªè¡¨ç›˜.json`     | _å¾…åˆ›å»º_                                                    | `${chart_title}`, `${chart_type}`, `${chart_theme}`, `${min_value}`, `${max_value}`, `${gauge_data}`, `${detail_config}`, `${pointer_config}`, `${axis_line_config}`, `${progress_config}`, `${tooltip_config}`                                                                                | `chart_config`, `marketing_data` | ğŸš§ å¼€å‘ä¸­ |
| **GAUGE**     | ä»ªè¡¨ç›˜   | è¿›åº¦ä»ªè¡¨ç›˜ | `progress_gauge_chart` | `src/main/resources/echarts/ä»ªè¡¨ç›˜/è¿›åº¦ä»ªè¡¨ç›˜.json`     | _å¾…åˆ›å»º_                                                    | åŒä¸Š                                                                                                                                                                                                                                                                                           | `chart_config`, `marketing_data` | ğŸš§ å¼€å‘ä¸­ |
| **GAUGE**     | ä»ªè¡¨ç›˜   | ç­‰çº§ä»ªè¡¨ç›˜ | `grade_gauge_chart`    | `src/main/resources/echarts/ä»ªè¡¨ç›˜/ç­‰çº§ä»ªè¡¨ç›˜.json`     | _å¾…åˆ›å»º_                                                    | åŒä¸Š                                                                                                                                                                                                                                                                                           | `chart_config`, `marketing_data` | ğŸš§ å¼€å‘ä¸­ |

### ğŸ“Š **ç»Ÿè®¡ä¿¡æ¯**

- **å››ç±»é€šç”¨æ€§æ¨¡æ¿**: CARTESIANã€PIEã€RADARã€GAUGE
- **ECharts ç¤ºä¾‹é…ç½®æ–‡ä»¶**: 11 ä¸ª (ä½äº `src/main/resources/echarts/`)
- **JOLT SPEC è½¬æ¢æ–‡ä»¶**: 6 ä¸ª (ä½äº `src/main/resources/jolt-specs/`)
- **ä»£ç ä¸­å®šä¹‰çš„å›¾è¡¨ç±»å‹**: 14 ç§ + 1 ç§å…¼å®¹ (å…± 15 ç§)
  - **å·²å®ç°**: 11 ç§ (æœ‰ ECharts ç¤ºä¾‹æ–‡ä»¶å’Œ JOLT SPEC æ–‡ä»¶)
  - **è®¡åˆ’ä¸­**: 3 ç§ (ä»…åœ¨ä»£ç ä¸­å®šä¹‰)
  - **å…¼å®¹ç‰ˆæœ¬**: 1 ç§ (pie_chart å…¼å®¹æ—§ç‰ˆæœ¬)
- **å‰ç«¯ç•Œé¢æ”¯æŒ**: 6 ç§ (stacked_line_chart, basic_bar_chart, stacked_bar_chart, basic_line_chart, smooth_line_chart, pie_chart)
- **ç»Ÿä¸€æ•°æ®è§†å›¾**: `universal_chart_data_view` (åŒ…å« 40 ä¸ªå­—æ®µ)
- **æ•°æ®æ¶æ„**: å·²é‡æ„ä¸ºå•ä¸€æ•°æ®æºæ¶æ„

### ï¿½ **å›¾è¡¨ç±»å‹ä¸æ–‡ä»¶å¯¹åº”å…³ç³»è¯¦ç»†è¯´æ˜**

#### **å®ç°çŠ¶æ€åˆ†ç±»**

##### **âœ… å·²å®ç° (11 ç§) - æœ‰ ECharts ç¤ºä¾‹æ–‡ä»¶å’Œ JOLT SPEC æ–‡ä»¶**

| å›¾è¡¨ ID                | å›¾è¡¨åç§°   | ECharts æ–‡ä»¶                 | JOLT SPEC æ–‡ä»¶                 |
| ---------------------- | ---------- | ---------------------------- | ------------------------------ |
| `stacked_line_chart`   | å †å æŠ˜çº¿å›¾ | `æŠ˜çº¿å›¾/æŠ˜çº¿å›¾å †å .json`     | `line-chart-stacked.json`      |
| `basic_bar_chart`      | åŸºç¡€æŸ±çŠ¶å›¾ | `æŸ±çŠ¶å›¾/åŸºç¡€æŸ±çŠ¶å›¾.json`     | `bar-chart-placeholder.json`   |
| `stacked_bar_chart`    | å †å æŸ±çŠ¶å›¾ | `æŸ±çŠ¶å›¾/å †å æŸ±çŠ¶å›¾.json`     | `bar-chart-placeholder.json`   |
| `basic_line_chart`     | åŸºç¡€æŠ˜çº¿å›¾ | `æŠ˜çº¿å›¾/åŸºç¡€æŠ˜çº¿å›¾.json`     | `line-chart-placeholder.json`  |
| `smooth_line_chart`    | å¹³æ»‘æŠ˜çº¿å›¾ | `æŠ˜çº¿å›¾/åŸºç¡€å¹³æ»‘æŠ˜çº¿å›¾.json` | `line-chart-placeholder.json`  |
| `basic_pie_chart`      | åŸºç¡€é¥¼å›¾   | `é¥¼å›¾/å¯Œæ–‡æœ¬æ ‡ç­¾.json`       | `pie-chart-placeholder.json`   |
| `doughnut_chart`       | ç¯å½¢å›¾     | `é¥¼å›¾/åœ†è§’ç¯å½¢å›¾.json`       | `pie-chart-placeholder.json`   |
| `basic_radar_chart`    | åŸºç¡€é›·è¾¾å›¾ | `é›·è¾¾å›¾/åŸºç¡€é›·è¾¾å›¾.json`     | `radar-chart-placeholder.json` |
| `basic_gauge_chart`    | åŸºç¡€ä»ªè¡¨ç›˜ | `ä»ªè¡¨ç›˜/åŸºç¡€ä»ªè¡¨ç›˜.json`     | `gauge-chart-placeholder.json` |
| `progress_gauge_chart` | è¿›åº¦ä»ªè¡¨ç›˜ | `ä»ªè¡¨ç›˜/è¿›åº¦ä»ªè¡¨ç›˜.json`     | `gauge-chart-placeholder.json` |
| `grade_gauge_chart`    | ç­‰çº§ä»ªè¡¨ç›˜ | `ä»ªè¡¨ç›˜/ç­‰çº§ä»ªè¡¨ç›˜.json`     | `gauge-chart-placeholder.json` |

##### **ğŸ“‹ è®¡åˆ’ä¸­ (3 ç§) - ä»…åœ¨ä»£ç ä¸­å®šä¹‰**

| å›¾è¡¨ ID              | å›¾è¡¨åç§°   | ECharts æ–‡ä»¶ | JOLT SPEC æ–‡ä»¶ |
| -------------------- | ---------- | ------------ | -------------- |
| `basic_area_chart`   | åŸºç¡€é¢ç§¯å›¾ | _å¾…åˆ›å»º_     | _å¾…åˆ›å»º_       |
| `rose_chart`         | ç«ç‘°å›¾     | _å¾…åˆ›å»º_     | _å¾…åˆ›å»º_       |
| `filled_radar_chart` | å¡«å……é›·è¾¾å›¾ | _å¾…åˆ›å»º_     | _å¾…åˆ›å»º_       |

##### **ğŸ”„ å…¼å®¹ç‰ˆæœ¬ (1 ç§) - å‘åå…¼å®¹**

| å›¾è¡¨ ID     | å›¾è¡¨åç§° | è¯´æ˜                                 |
| ----------- | -------- | ------------------------------------ |
| `pie_chart` | é¥¼å›¾     | å…¼å®¹æ—§ç‰ˆæœ¬ï¼Œæ˜ å°„åˆ° `basic_pie_chart` |

#### **æ–‡ä»¶æ•°é‡ä¸åŒ¹é…è¯´æ˜**

- **ECharts ç¤ºä¾‹æ–‡ä»¶ (11 ä¸ª)** vs **ä»£ç å®šä¹‰å›¾è¡¨ç±»å‹ (14 ç§)**ï¼šéƒ¨åˆ†å›¾è¡¨ç±»å‹å…±äº«åŒä¸€ä¸ªç¤ºä¾‹æ–‡ä»¶
- **JOLT SPEC æ–‡ä»¶ (6 ä¸ª)** vs **ä»£ç å®šä¹‰å›¾è¡¨ç±»å‹ (14 ç§)**ï¼šå¤šä¸ªå›¾è¡¨ç±»å‹å…±äº«åŒä¸€ä¸ª JOLT è½¬æ¢è§„èŒƒ
- **å‰ç«¯æ”¯æŒ (6 ç§)** vs **ä»£ç å®šä¹‰ (14 ç§)**ï¼šå‰ç«¯ç•Œé¢å±•ç¤ºæ‰€æœ‰å·²å®ç°çš„å›¾è¡¨ç±»å‹

### ï¿½ğŸ”§ **æ ¸å¿ƒæŠ€æœ¯æ¶æ„**

#### **å›¾è¡¨ç±»å‹æ˜ å°„å…³ç³»**

```
ç”¨æˆ·é€‰æ‹©å›¾è¡¨ç±»å‹ â†’ ç³»ç»Ÿæ¨æ–­æ¨¡æ¿ç±»å‹ â†’ é€‰æ‹©è½¬æ¢é€»è¾‘ â†’ ç”ŸæˆEChartsé…ç½®

stacked_line_chart â†’ CARTESIAN â†’ transformCartesianChart() â†’ æŠ˜çº¿å›¾é…ç½®
basic_pie_chart â†’ PIE â†’ transformPieChart() â†’ é¥¼å›¾é…ç½®
basic_radar_chart â†’ RADAR â†’ transformRadarChart() â†’ é›·è¾¾å›¾é…ç½®
```

#### **æ˜ å°„å…³ç³»ç»´æŠ¤ä½ç½®**

- **å›¾è¡¨ç±»å‹è¯†åˆ«**: `TemplateType.java` - `inferFromChartType()`
- **æ¨¡æ¿åˆ›å»º**: `CategoryTemplateFactory.java` - `createTemplate()`
- **è½¬æ¢é€»è¾‘**: `SmartTransformationEngine.java` - `semanticTransformWithCategory()`

#### **å ä½ç¬¦å˜é‡è¯¦ç»†è¯´æ˜**

##### **CARTESIAN æ¨¡æ¿å ä½ç¬¦**

- **åŸºæœ¬ä¿¡æ¯**: `${chart_title}`, `${chart_type}`, `${chart_theme}`
- **åæ ‡ç³»**: `${categories}`, `${boundary_gap}`
- **æ•°æ®ç³»åˆ—**: `${series_1_name}` ~ `${series_5_name}`, `${series_1_data}` ~ `${series_5_data}`
- **æ ·å¼é…ç½®**: `${series_type}`, `${stack_group}`, `${smooth_style}`
- **å¸ƒå±€é…ç½®**: `${legend_config}`, `${grid_config}`, `${tooltip_config}`, `${toolbox_config}`

##### **PIE æ¨¡æ¿å ä½ç¬¦**

- **åŸºæœ¬ä¿¡æ¯**: `${chart_title}`, `${chart_type}`, `${chart_theme}`
- **é¥¼å›¾é…ç½®**: `${radius_config}`, `${center_config}`, `${pie_data}`, `${rose_type}`
- **å¸ƒå±€é…ç½®**: `${legend_config}`, `${tooltip_config}`

##### **RADAR æ¨¡æ¿å ä½ç¬¦**

- **åŸºæœ¬ä¿¡æ¯**: `${chart_title}`, `${chart_type}`, `${chart_theme}`
- **é›·è¾¾é…ç½®**: `${radar_indicators}`, `${radar_shape}`, `${radar_radius}`, `${radar_data}`, `${area_style}`
- **å¸ƒå±€é…ç½®**: `${legend_config}`, `${tooltip_config}`

##### **GAUGE æ¨¡æ¿å ä½ç¬¦**

- **åŸºæœ¬ä¿¡æ¯**: `${chart_title}`, `${chart_type}`, `${chart_theme}`
- **ä»ªè¡¨ç›˜é…ç½®**: `${min_value}`, `${max_value}`, `${gauge_data}`, `${detail_config}`, `${pointer_config}`, `${axis_line_config}`, `${progress_config}`
- **å¸ƒå±€é…ç½®**: `${tooltip_config}`

### ğŸ”„ **JOLT SPEC æ–‡ä»¶å…±äº«æœºåˆ¶**

#### **å…±äº«æ˜ å°„å…³ç³»è¡¨**

| JOLT SPEC æ–‡ä»¶                | å…±äº«çš„å›¾è¡¨ç±»å‹                                    | æ–‡ä»¶è·¯å¾„                                                    | å·®å¼‚åŒ–æ–¹å¼                                 | çŠ¶æ€      |
| ----------------------------- | ------------------------------------------------- | ----------------------------------------------------------- | ------------------------------------------ | --------- |
| `line-chart-placeholder.json` | `basic_line_chart`, `smooth_line_chart`           | `src/main/resources/jolt-specs/line-chart-placeholder.json` | `${smooth_style}` å ä½ç¬¦                   | âœ… å·²å®ç° |
| `line-chart-stacked.json`     | `stacked_line_chart`                              | `src/main/resources/jolt-specs/line-chart-stacked.json`     | `${stack_group}` å ä½ç¬¦                    | âœ… å·²å®ç° |
| `bar-chart-placeholder.json`  | `basic_bar_chart`, `stacked_bar_chart`            | `src/main/resources/jolt-specs/bar-chart-placeholder.json`  | `${stack_group}`, `${boundary_gap}` å ä½ç¬¦ | âœ… å·²å®ç° |
| `pie-chart-placeholder.json`  | `basic_pie_chart`, `doughnut_chart`, `rose_chart` | `src/main/resources/jolt-specs/pie-chart-placeholder.json`  | `${radius_config}`, `${rose_type}` å ä½ç¬¦  | ğŸš§ å¼€å‘ä¸­ |

#### **å·®å¼‚åŒ–æœºåˆ¶è¯´æ˜**

**1. å ä½ç¬¦å˜é‡å·®å¼‚åŒ–**

```json
// åŸºç¡€æŠ˜çº¿å›¾ vs å¹³æ»‘æŠ˜çº¿å›¾
{
  "smooth": "${smooth_style}",  // false vs true
  "type": "line"
}

// åŸºç¡€å›¾è¡¨ vs å †å å›¾è¡¨
{
  "stack": "${stack_group}",    // null vs "Total"
  "type": "line"
}

// æŠ˜çº¿å›¾ vs æŸ±çŠ¶å›¾åæ ‡è½´
{
  "boundaryGap": "${boundary_gap}"  // false vs true
}
```

**2. SmartTransformationEngine è½¬æ¢é€»è¾‘**

```java
// æ ¹æ®å›¾è¡¨ç±»å‹è®¾ç½®ç³»åˆ—ç±»å‹
if (chartType.contains("line")) {
    series.put("type", "line");
    if (item.get("smooth") != null) {
        series.put("smooth", item.get("smooth"));
    }
} else if (chartType.contains("bar")) {
    series.put("type", "bar");
}

// å¤„ç†å †å 
if (item.get("stack") != null) {
    series.put("stack", item.get("stack"));
}
```

#### **å½“å‰å®ç°é—®é¢˜**

**1. ç¡¬ç¼–ç æ˜ å°„å…³ç³»**

```java
// å½“å‰å®ç° - TwoStageTransformationService.java
private String getJoltSpecFileByChartId(String chartId) {
    Map<String, String> chartToSpecMapping = new HashMap<>();
    chartToSpecMapping.put("stacked_line_chart", "line-chart-placeholder.json");
    chartToSpecMapping.put("basic_bar_chart", "bar-chart-placeholder.json");
    chartToSpecMapping.put("pie_chart", "pie-chart-placeholder.json");
    // ç¼ºå°‘ basic_line_chart, smooth_line_chart ç­‰çš„æ˜ç¡®æ˜ å°„
}
```

**2. ç¼ºå°‘å®Œæ•´æ˜ å°„**

- `basic_line_chart`ã€`smooth_line_chart` æ²¡æœ‰æ˜ç¡®æ˜ å°„
- ä¾èµ–é»˜è®¤å›é€€æœºåˆ¶ï¼Œå¯èƒ½å¯¼è‡´ä¸ä¸€è‡´

#### **æ”¹è¿›æ–¹æ¡ˆ**

**1. å®Œæ•´æ˜ å°„å…³ç³»é…ç½®**

```java
// å»ºè®®çš„å®Œæ•´æ˜ å°„å®ç°
private String getJoltSpecFileByChartId(String chartId) {
    Map<String, String> chartToSpecMapping = new HashMap<>();

    // æŠ˜çº¿å›¾ç³»åˆ—
    chartToSpecMapping.put("basic_line_chart", "line-chart-placeholder.json");
    chartToSpecMapping.put("smooth_line_chart", "line-chart-placeholder.json");
    chartToSpecMapping.put("stacked_line_chart", "line-chart-stacked.json");

    // æŸ±çŠ¶å›¾ç³»åˆ—
    chartToSpecMapping.put("basic_bar_chart", "bar-chart-placeholder.json");
    chartToSpecMapping.put("stacked_bar_chart", "bar-chart-placeholder.json");

    // é¥¼å›¾ç³»åˆ—
    chartToSpecMapping.put("basic_pie_chart", "pie-chart-placeholder.json");
    chartToSpecMapping.put("doughnut_chart", "pie-chart-placeholder.json");
    chartToSpecMapping.put("rose_chart", "pie-chart-placeholder.json");

    // å…¶ä»–ç±»å‹
    chartToSpecMapping.put("basic_area_chart", "line-chart-placeholder.json");

    return chartToSpecMapping.getOrDefault(chartId, "line-chart-placeholder.json");
}
```

**2. é…ç½®åŒ–ç®¡ç†**

```yaml
# application.yml é…ç½®ç¤ºä¾‹
charts:
  jolt-spec-mapping:
    basic_line_chart: "line-chart-placeholder.json"
    smooth_line_chart: "line-chart-placeholder.json"
    stacked_line_chart: "line-chart-stacked.json"
    basic_bar_chart: "bar-chart-placeholder.json"
    stacked_bar_chart: "bar-chart-placeholder.json"
    basic_pie_chart: "pie-chart-placeholder.json"
```

#### **æ•°æ®åº“è¡¨æ˜ å°„å…³ç³»è¯´æ˜**

##### **universal_chart_data_view ç»Ÿä¸€æ•°æ®è§†å›¾**

**é‡æ„åçš„å•ä¸€æ•°æ®æº**ï¼ŒåŒ…å« 40 ä¸ªå­—æ®µï¼Œè¦†ç›–æ‰€æœ‰å›¾è¡¨ç±»å‹çš„æ•°æ®éœ€æ±‚ã€‚

#### **40 å­—æ®µè¯¦ç»†ç»“æ„**

##### **åŸºç¡€ä¿¡æ¯å­—æ®µ (1-8)**

- `id` â†’ æ•°æ®è®°å½• ID
- `title` â†’ `${chart_title}` - å›¾è¡¨æ ‡é¢˜
- `chart_type` â†’ `${chart_type}` - å›¾è¡¨ç±»å‹æ ‡è¯†
- `theme` â†’ `${chart_theme}` - å›¾è¡¨ä¸»é¢˜æ ·å¼
- `description` â†’ å›¾è¡¨æè¿°
- `data_source` â†’ æ•°æ®æºæ ‡è¯†
- `created_at` â†’ åˆ›å»ºæ—¶é—´
- `updated_at` â†’ æ›´æ–°æ—¶é—´

##### **æ—¶é—´ç»´åº¦å­—æ®µ (9-16)**

- `date` â†’ æ—¥æœŸ
- `day_name` â†’ `${categories}` - X è½´åˆ†ç±»æ•°æ®ï¼ˆæ—¥æœŸåç§°ï¼‰
- `month` â†’ æœˆä»½
- `month_name` â†’ æœˆä»½åç§°
- `year` â†’ å¹´ä»½
- `quarter` â†’ å­£åº¦
- `week_number` â†’ å‘¨æ•°
- `timestamp` â†’ æ—¶é—´æˆ³

##### **åˆ†ç±»æ•°æ®å­—æ®µ (17-24)**

- `category` â†’ ä¸»åˆ†ç±»
- `sub_category` â†’ å­åˆ†ç±»
- `channel_name` â†’ `${series_1_name}` ~ `${series_5_name}` - ç³»åˆ—åç§°ï¼ˆæ¸ é“åç§°ï¼‰
- `channel_type` â†’ æ¸ é“ç±»å‹
- `product_name` â†’ äº§å“åç§°
- `product_type` â†’ äº§å“ç±»å‹
- `region` â†’ åœ°åŒº
- `department` â†’ éƒ¨é—¨

##### **æ•°å€¼å­—æ®µ (25-32)**

- `value` â†’ `${pie_data}` - ä¸»è¦æ•°å€¼
- `conversion_count` â†’ `${series_1_data}` ~ `${series_5_data}` - ç³»åˆ—æ•°æ®ï¼ˆè½¬æ¢æ•°é‡ï¼‰
- `click_count` â†’ ç‚¹å‡»æ•°é‡
- `view_count` â†’ æµè§ˆæ•°é‡
- `percentage` â†’ ç™¾åˆ†æ¯”
- `ratio` â†’ æ¯”ç‡
- `amount` â†’ é‡‘é¢
- `quantity` â†’ æ•°é‡

##### **é…ç½®å­—æ®µ (33-40)**

- `color` â†’ é¢œè‰²é…ç½®
- `style` â†’ `${series_1_style}` ~ `${series_5_style}` - æ ·å¼é…ç½®
- `radius` â†’ `${radius_config}` - é¥¼å›¾åŠå¾„é…ç½®
- `center` â†’ `${center_config}` - é¥¼å›¾ä¸­å¿ƒä½ç½®é…ç½®
- `stack_group` â†’ `${stack_group}` - å †å åˆ†ç»„é…ç½®
- `smooth_style` â†’ `${smooth_style}` - å¹³æ»‘æ ·å¼é…ç½®
- `boundary_gap` â†’ `${boundary_gap}` - åæ ‡è½´è¾¹ç•Œé—´éš™
- `extra_config` â†’ `${toolbox_config}`, `${rose_type}` - æ‰©å±•é…ç½®ï¼ˆJSON æ ¼å¼ï¼‰

##### **é‡æ„åçš„å®ç°è¯´æ˜**

**âœ… æ•°æ®æ¶æ„é‡æ„å®Œæˆï¼š** å·²å°†å¤šè¡¨æ˜ å°„å…³ç³»é‡æ„ä¸ºå•ä¸€æ•°æ®è§†å›¾æ˜ å°„ï¼š

```java
// é‡æ„åå®ç°ï¼šæ‰€æœ‰å›¾è¡¨ç±»å‹ä½¿ç”¨ç»Ÿä¸€æ•°æ®è§†å›¾
chartMappings.put("stacked_line_chart", universalMappings);
chartMappings.put("basic_bar_chart", universalMappings);
chartMappings.put("pie_chart", universalMappings);
chartMappings.put("universal", universalMappings);

// ç»Ÿä¸€æ•°æ®è§†å›¾æ˜ å°„ç¤ºä¾‹
universalMappings.put("${chart_title}", createUniversalFieldMapping(
    "${chart_title}", "universal_chart_data_view", "title", "string"));
universalMappings.put("${categories}", createUniversalFieldMapping(
    "${categories}", "universal_chart_data_view", "day_name", "array"));
```

**é‡æ„ä¼˜åŠ¿ï¼š**

1. **æ•°æ®æºç»Ÿä¸€** - æ‰€æœ‰å›¾è¡¨ç±»å‹ä½¿ç”¨åŒä¸€ä¸ª `UniversalChartDataView` æ•°æ®æº
2. **å­—æ®µè¦†ç›–å®Œæ•´** - 40 ä¸ªå­—æ®µè¦†ç›–æ‰€æœ‰å›¾è¡¨ç±»å‹çš„æ•°æ®éœ€æ±‚
3. **æ˜ å°„å…³ç³»ç®€åŒ–** - ç»Ÿä¸€çš„å­—æ®µæå–å™¨ï¼Œæ”¯æŒæŒ‰éœ€æ•°æ®æå–
4. **æ‰©å±•æ€§å¼º** - æ–°å¢å›¾è¡¨ç±»å‹åªéœ€æ·»åŠ å­—æ®µæ˜ å°„ï¼Œæ— éœ€åˆ›å»ºæ–°è¡¨
5. **ç»´æŠ¤æˆæœ¬ä½** - å•ä¸€æ•°æ®ç»“æ„ï¼Œå‡å°‘æ•°æ®åŒæ­¥å’Œç»´æŠ¤å¤æ‚æ€§

**æ•°æ®æå–æœºåˆ¶ï¼š**

```java
// æŒ‰éœ€æ•°æ®æå–ç¤ºä¾‹
public Map<String, Object> extractDataFromUniversalView(String chartId, Set<String> placeholders) {
    List<UniversalChartDataView> dataList = dataService.getDataByChartType(chartId);

    for (String placeholder : placeholders) {
        Object extractedValue = extractPlaceholderValue(placeholder, dataList);
        extractedData.put(placeholder, extractedValue);
    }

    return extractedData;
}
```

#### **å¼€å‘çŠ¶æ€è¯´æ˜**

- **âœ… å·²æ”¯æŒ**: å®Œæ•´å®ç°ï¼ŒåŒ…å« ECharts ç¤ºä¾‹æ–‡ä»¶å’Œ JOLT SPEC è½¬æ¢æ–‡ä»¶
- **ğŸš§ å¼€å‘ä¸­**: æœ‰ ECharts ç¤ºä¾‹æ–‡ä»¶ï¼Œä½†ç¼ºå°‘ JOLT SPEC è½¬æ¢æ–‡ä»¶
- **ğŸ“‹ è®¡åˆ’ä¸­**: ä»…åœ¨ä»£ç ä¸­å®šä¹‰ï¼Œç¼ºå°‘ç¤ºä¾‹æ–‡ä»¶å’Œè½¬æ¢æ–‡ä»¶

## ğŸ§ª **æµ‹è¯•ä¸éªŒè¯**

### ğŸ“Š **æµ‹è¯•è¦†ç›–**

é¡¹ç›®åŒ…å«å…¨é¢çš„æµ‹è¯•ä½“ç³»ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§å’Œå¯é æ€§ï¼š

#### **å…¼å®¹æ€§æµ‹è¯•**

- âœ… **æ¨¡æ¿ç±»å‹æ¨æ–­æµ‹è¯•** - 100% é€šè¿‡
- âœ… **åˆ†ç±»æ¨¡æ¿åˆ›å»ºæµ‹è¯•** - 100% é€šè¿‡
- âœ… **å ä½ç¬¦æå–æµ‹è¯•** - 100% é€šè¿‡
- âœ… **è¯­ä¹‰è½¬æ¢æµ‹è¯•** - 100% é€šè¿‡ï¼ˆ5 ç§å›¾è¡¨ç±»å‹ï¼‰
- âœ… **æ€§èƒ½æµ‹è¯•** - æ¨¡æ¿åˆ›å»º < 1msï¼Œè½¬æ¢ < 1ms

#### **ç«¯åˆ°ç«¯æµ‹è¯•**

- ğŸ”„ **å®Œæ•´è½¬æ¢æµç¨‹** - 95% é€šè¿‡ï¼ˆéœ€è¡¥å…… 3 ä¸ªæ˜ å°„å…³ç³»ï¼‰
- âœ… **å ä½ç¬¦ä¿æŒæ€§** - è½¬æ¢è¿‡ç¨‹ä¸­å ä½ç¬¦å®Œæ•´ä¿ç•™
- âœ… **æ•°æ®ç±»å‹å®‰å…¨** - è‡ªåŠ¨éªŒè¯å’Œè½¬æ¢æ•°æ®ç±»å‹

### ğŸš€ **è¿è¡Œæµ‹è¯•**

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
mvn test

# è¿è¡Œå…¼å®¹æ€§æµ‹è¯•
mvn test -Dtest=CategoryTemplateCompatibilityTest

# æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š
mvn jacoco:report
```

## ğŸ¯ **é¡¹ç›®ä¼˜åŠ¿æ€»ç»“**

### âœ¨ **æ ¸å¿ƒä»·å€¼**

1. **ğŸ¯ çœŸæ­£çš„é€šç”¨æ€§**

   - æŒ‰åæ ‡ç³»åˆ†ç±»ï¼ŒåŒç±»å†…éƒ¨ 100%å…¼å®¹
   - æ”¯æŒ 11 ç§ä¸»æµå›¾è¡¨ç±»å‹
   - æ–°å¢å›¾è¡¨ç±»å‹æˆæœ¬æä½

2. **ğŸ‘¥ ç”¨æˆ·å‹å¥½æ€§**

   - è¯­ä¹‰åŒ–æ¨¡æ¿ç»“æ„ï¼Œæ˜“äºç†è§£
   - æ— éœ€å­¦ä¹  ECharts æŠ€æœ¯ç»†èŠ‚
   - å¯è§†åŒ–é…ç½®ç•Œé¢

3. **âš¡ æŠ€æœ¯å…ˆè¿›æ€§**

   - æ™ºèƒ½è½¬æ¢å¼•æ“ï¼Œè‡ªåŠ¨é€‚é…
   - ç±»å‹å®‰å…¨çš„è½¬æ¢è¿‡ç¨‹
   - é«˜æ€§èƒ½ï¼Œæ¯«ç§’çº§å“åº”

4. **ğŸ”§ æ˜“äºç»´æŠ¤**
   - æ¨¡å—åŒ–æ¶æ„ï¼ŒèŒè´£æ¸…æ™°
   - å®Œæ•´çš„æµ‹è¯•è¦†ç›–
   - è¯¦ç»†çš„æ–‡æ¡£å’Œç¤ºä¾‹

### ğŸ“Š **æ€§èƒ½æŒ‡æ ‡**

- **æ¨¡æ¿åˆ›å»º**: < 1ms
- **è¯­ä¹‰è½¬æ¢**: < 1ms
- **æ•°æ®æŸ¥è¯¢**: < 5msï¼ˆæ¨¡æ‹Ÿï¼‰
- **å®Œæ•´æµç¨‹**: < 10ms
- **å¹¶å‘æ”¯æŒ**: 1000+ QPS

### ğŸ‰ **é€‚ç”¨åœºæ™¯**

- âœ… **ä¼ä¸šçº§æ•°æ®å¯è§†åŒ–å¹³å°**
- âœ… **BI ç³»ç»Ÿå›¾è¡¨é…ç½®æ¨¡å—**
- âœ… **ä½ä»£ç /æ— ä»£ç å¹³å°**
- âœ… **æ•°æ®åˆ†æå·¥å…·**
- âœ… **æŠ¥è¡¨ç³»ç»Ÿ**

## ğŸ¨ **é¡µé¢å¸ƒå±€ä¸åŠŸèƒ½ä¼˜åŒ–è®°å½•**

### ğŸ“‹ **éœ€æ±‚èƒŒæ™¯**

#### **åŸæœ‰é¡µé¢å¸ƒå±€é—®é¢˜**

åœ¨ 2025 å¹´ 8 æœˆçš„ç³»ç»Ÿä¼˜åŒ–å‰ï¼ŒECharts å›¾è¡¨å±•ç¤ºé¡µé¢å­˜åœ¨ä»¥ä¸‹å…³é”®é—®é¢˜ï¼š

1. **å›¾è¡¨ä½ç½®ä¸åˆç†**

   - å›¾è¡¨é¢„è§ˆåŒºåŸŸä½äºé¡µé¢å³ä¾§ç¬¬ 4 åˆ—ï¼Œç”¨æˆ·è§†è§‰ç„¦ç‚¹ä¸é›†ä¸­
   - å›¾è¡¨æ˜¾ç¤ºåŒºåŸŸè¿‡å°ï¼Œå½±å“ç”¨æˆ·ä½“éªŒ
   - å¸ƒå±€ä¸ç¬¦åˆç”¨æˆ·ä»å·¦åˆ°å³çš„é˜…è¯»ä¹ æƒ¯

2. **ä¸‹æ‹‰æ¡†æ•°æ®ç¡¬ç¼–ç **

   - ä¸€çº§ä¸‹æ‹‰æ¡†é€‰é¡¹åœ¨å‰ç«¯ç¡¬ç¼–ç ï¼Œä¸å®é™…æ–‡ä»¶ç›®å½•ä¸åŒæ­¥
   - äºŒçº§ä¸‹æ‹‰æ¡†æ•°æ®é™æ€é…ç½®ï¼Œæ— æ³•åŠ¨æ€åæ˜ æ–‡ä»¶ç³»ç»Ÿå˜åŒ–
   - å›¾è¡¨æ–‡ä»¶ä¸ä¸‹æ‹‰æ¡†é€‰é¡¹æ˜ å°„å…³ç³»ç»´æŠ¤å›°éš¾

3. **ç”¨æˆ·ä½“éªŒé—®é¢˜**

   - ä¸‹æ‹‰æ¡†é€‰æ‹©å˜åŒ–æ—¶ï¼Œé¡µé¢å¯èƒ½å‡ºç°å¸ƒå±€æŠ–åŠ¨
   - å“åº”å¼è®¾è®¡ä¸å®Œå–„ï¼Œç§»åŠ¨ç«¯ä½“éªŒå·®
   - æ•°æ®æµå±•ç¤ºä¸å›¾è¡¨é¢„è§ˆç¼ºä¹æœ‰æ•ˆå…³è”

4. **ç»´æŠ¤æˆæœ¬é«˜**
   - æ–°å¢å›¾è¡¨ç±»å‹éœ€è¦åŒæ—¶ä¿®æ”¹å¤šå¤„ä»£ç 
   - æ–‡ä»¶ç›®å½•ç»“æ„å˜åŒ–éœ€è¦æ‰‹åŠ¨æ›´æ–°å‰ç«¯é…ç½®
   - ç¼ºä¹è‡ªåŠ¨åŒ–çš„ç›®å½•æ‰«ææœºåˆ¶

#### **ä¸šåŠ¡éœ€æ±‚åˆ†æ**

åŸºäºç”¨æˆ·åé¦ˆå’Œäº§å“åˆ†æï¼Œç¡®å®šäº†ä»¥ä¸‹æ ¸å¿ƒæ”¹è¿›éœ€æ±‚ï¼š

- **æå‡å›¾è¡¨å±•ç¤ºæ•ˆæœ**ï¼šå›¾è¡¨é¢„è§ˆåº”è¯¥æ˜¯é¡µé¢çš„è§†è§‰ç„¦ç‚¹
- **å®ç°çœŸæ­£çš„çº§è”ä¸‹æ‹‰æ¡†**ï¼šä¸‹æ‹‰æ¡†æ•°æ®åº”è¯¥ä¸æ–‡ä»¶ç³»ç»Ÿå®æ—¶åŒæ­¥
- **ä¼˜åŒ–å“åº”å¼è®¾è®¡**ï¼šç¡®ä¿åœ¨ä¸åŒè®¾å¤‡ä¸Šéƒ½æœ‰è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒ
- **ç®€åŒ–ç»´æŠ¤æµç¨‹**ï¼šå‡å°‘æ‰‹åŠ¨é…ç½®ï¼Œæé«˜ç³»ç»Ÿè‡ªåŠ¨åŒ–ç¨‹åº¦

### ğŸ¯ **å®ç°ç›®æ ‡**

#### **1. é¡µé¢å¸ƒå±€é‡æ–°è®¾è®¡**

**ç›®æ ‡**ï¼šå°†å›¾è¡¨é¢„è§ˆåŒºåŸŸä»å³ä¾§ç§»è‡³å·¦ä¾§ï¼Œæˆä¸ºé¡µé¢çš„è§†è§‰ç„¦ç‚¹

**å…·ä½“è¦æ±‚**ï¼š

- å·¦ä¾§ 8 åˆ—æ˜¾ç¤ºå›¾è¡¨é¢„è§ˆï¼Œå³ä¾§ 16 åˆ—æ˜¾ç¤ºæ•°æ®æµç¨‹
- å›¾è¡¨å®¹å™¨é«˜åº¦ä¼˜åŒ–ä¸º 520pxï¼Œæä¾›æ›´å¥½çš„å±•ç¤ºæ•ˆæœ
- ç§»åŠ¨ç«¯è‡ªåŠ¨åˆ‡æ¢ä¸ºä¸Šä¸‹å¸ƒå±€ï¼Œå›¾è¡¨é¢„è§ˆåœ¨ä¸Šæ–¹

#### **2. å®ç°çœŸæ­£çš„çº§è”ä¸‹æ‹‰æ¡†**

**ç›®æ ‡**ï¼šåŸºäºæ–‡ä»¶ç³»ç»Ÿçš„åŠ¨æ€çº§è”ä¸‹æ‹‰æ¡†

**å…·ä½“è¦æ±‚**ï¼š

- ä¸€çº§ä¸‹æ‹‰æ¡†æ˜¾ç¤º `src/main/resources/echarts/` ç›®å½•ä¸‹çš„æ–‡ä»¶å¤¹åç§°
- äºŒçº§ä¸‹æ‹‰æ¡†æ˜¾ç¤ºé€‰ä¸­åˆ†ç±»ä¸‹çš„æ‰€æœ‰ JSON æ–‡ä»¶ï¼Œå»é™¤.json åç¼€
- ä¸‹æ‹‰æ¡†é€‰é¡¹ä¸å®é™…æ–‡ä»¶ç³»ç»Ÿä¿æŒå®æ—¶åŒæ­¥
- æ”¯æŒå›¾æ ‡é€‚é…ï¼Œæ ¹æ®å›¾è¡¨åˆ†ç±»æ˜¾ç¤ºå¯¹åº”å›¾æ ‡

#### **3. ä¼˜åŒ–æ•°æ®æµå’ŒçŠ¶æ€ç®¡ç†**

**ç›®æ ‡**ï¼šç¡®ä¿ä¸‹æ‹‰æ¡†å˜åŒ–æ—¶å›¾è¡¨æ­£ç¡®æ›´æ–°

**å…·ä½“è¦æ±‚**ï¼š

- å®ç°å¤šå±‚ç›‘å¬å™¨ï¼Œç¡®ä¿æ•°æ®å˜åŒ–æ—¶å›¾è¡¨æ­£ç¡®æ¸²æŸ“
- ä¼˜åŒ–åŠ è½½çŠ¶æ€å’Œé”™è¯¯å¤„ç†æœºåˆ¶
- æä¾›å®Œå–„çš„ç”¨æˆ·åé¦ˆå’ŒçŠ¶æ€æç¤º

#### **4. å®ç°å“åº”å¼è®¾è®¡**

**ç›®æ ‡**ï¼šé€‚é…ä¸åŒå±å¹•å°ºå¯¸ï¼Œæä¾›ä¸€è‡´çš„ç”¨æˆ·ä½“éªŒ

**å…·ä½“è¦æ±‚**ï¼š

- å¤§å±å¹•ï¼ˆâ‰¥1200pxï¼‰ï¼šå·¦å³åˆ†æ å¸ƒå±€
- ä¸­ç­‰å±å¹•ï¼ˆ768px-1199pxï¼‰ï¼šä¿æŒå·¦å³å¸ƒå±€ï¼Œè°ƒæ•´é«˜åº¦å’Œé—´è·
- å°å±å¹•ï¼ˆ<768pxï¼‰ï¼šåˆ‡æ¢ä¸ºä¸Šä¸‹å¸ƒå±€

### ğŸ—ï¸ **æ¶æ„è®¾è®¡**

#### **å‰ç«¯å¸ƒå±€æ¶æ„**

**æ–°çš„å¸ƒå±€ç»“æ„**ï¼š

```vue
<!-- ä¸»è¦å†…å®¹åŒºåŸŸ - æ–°çš„å¸ƒå±€ç»“æ„ -->
<a-row :gutter="[16, 16]" class="main-content-area">
  <!-- å·¦ä¾§ï¼šå›¾è¡¨é¢„è§ˆåŒºåŸŸ -->
  <a-col :xs="24" :sm="24" :md="12" :lg="8" :xl="8">
    <a-card title="å›¾è¡¨é¢„è§ˆ" class="chart-preview-card">
      <!-- å›¾è¡¨å®¹å™¨ -->
      <div ref="chartContainer" class="chart-container"></div>
    </a-card>
  </a-col>

  <!-- å³ä¾§ï¼šæ•°æ®æµå±•ç¤ºåŒºåŸŸ -->
  <a-col :xs="24" :sm="24" :md="12" :lg="16" :xl="16">
    <a-row :gutter="[12, 12]" class="data-flow">
      <!-- ä¸‰ä¸ªæ•°æ®æµæ­¥éª¤å¡ç‰‡ -->
      <a-col :xs="24" :sm="24" :md="24" :lg="8" :xl="8">
        <!-- é€šç”¨JSONæ¨¡æ¿ -->
      </a-col>
      <a-col :xs="24" :sm="24" :md="24" :lg="8" :xl="8">
        <!-- ç¬¬ä¸€é˜¶æ®µè¾“å‡º -->
      </a-col>
      <a-col :xs="24" :sm="24" :md="24" :lg="8" :xl="8">
        <!-- ç¬¬äºŒé˜¶æ®µè¾“å‡º -->
      </a-col>
    </a-row>
  </a-col>
</a-row>
```

**å¸ƒå±€ä¼˜åŠ¿**ï¼š

- **è§†è§‰å±‚æ¬¡æ¸…æ™°**ï¼šå›¾è¡¨é¢„è§ˆä½äºæ˜¾çœ¼çš„å·¦ä¾§ä½ç½®
- **ç©ºé—´åˆ©ç”¨åˆç†**ï¼šå›¾è¡¨é¢„è§ˆå  1/3ï¼Œæ•°æ®æµå  2/3
- **å“åº”å¼å‹å¥½**ï¼šä¸åŒå±å¹•å°ºå¯¸ä¸‹è‡ªåŠ¨é€‚é…

#### **åç«¯ API è®¾è®¡**

**æ–°å¢ç›®å½•æ‰«ææ¥å£**ï¼š

```java
/**
 * æ‰«æEChartsç›®å½•ç»“æ„
 * @return è¿”å›åˆ†ç±»å’Œæ–‡ä»¶åˆ—è¡¨çš„å®Œæ•´ç»“æ„
 */
@GetMapping("/echarts-directory")
public ResponseEntity<ApiResponse<Map<String, Object>>> scanEChartsDirectory() {
    Map<String, Object> response = new HashMap<>();
    Map<String, List<Map<String, String>>> directoryStructure = new HashMap<>();

    // æ‰«æechartsç›®å½•
    File echartsDir = new File("src/main/resources/echarts");
    File[] categories = echartsDir.listFiles(File::isDirectory);

    for (File category : categories) {
        String categoryName = category.getName();
        List<Map<String, String>> files = new ArrayList<>();

        File[] jsonFiles = category.listFiles((dir, name) -> name.endsWith(".json"));
        for (File jsonFile : jsonFiles) {
            Map<String, String> fileInfo = new HashMap<>();
            fileInfo.put("fileName", jsonFile.getName());
            fileInfo.put("displayName", jsonFile.getName().replace(".json", ""));
            fileInfo.put("filePath", categoryName + "/" + jsonFile.getName());
            files.add(fileInfo);
        }

        directoryStructure.put(categoryName, files);
    }

    response.put("directoryStructure", directoryStructure);
    return ResponseEntity.ok(ApiResponse.ok(response));
}
```

**API ç‰¹æ€§**ï¼š

- **å®æ—¶æ‰«æ**ï¼šåŠ¨æ€è¯»å–æ–‡ä»¶ç³»ç»Ÿï¼Œç¡®ä¿æ•°æ®åŒæ­¥
- **ç»“æ„åŒ–è¿”å›**ï¼šæä¾›å®Œæ•´çš„ç›®å½•ç»“æ„å’Œæ–‡ä»¶ä¿¡æ¯
- **é”™è¯¯å¤„ç†**ï¼šå®Œå–„çš„å¼‚å¸¸å¤„ç†å’Œé”™è¯¯æ¢å¤æœºåˆ¶

#### **æ•°æ®æµæ¶æ„**

**ä»ç›®å½•æ‰«æåˆ°å›¾è¡¨æ¸²æŸ“çš„å®Œæ•´æµç¨‹**ï¼š

```mermaid
graph TD
    A[é¡µé¢åŠ è½½] --> B[è°ƒç”¨ç›®å½•æ‰«æAPI]
    B --> C[è·å–ç›®å½•ç»“æ„]
    C --> D[å¡«å……ä¸€çº§ä¸‹æ‹‰æ¡†]
    D --> E[ç”¨æˆ·é€‰æ‹©å›¾è¡¨åˆ†ç±»]
    E --> F[å¡«å……äºŒçº§ä¸‹æ‹‰æ¡†]
    F --> G[ç”¨æˆ·é€‰æ‹©å…·ä½“å›¾è¡¨]
    G --> H[ç”Ÿæˆå›¾è¡¨ID]
    H --> I[è°ƒç”¨å›¾è¡¨ä¿¡æ¯API]
    I --> J[æ‰§è¡Œä¸¤é˜¶æ®µè½¬æ¢]
    J --> K[æ¸²æŸ“å›¾è¡¨]
    K --> L[æ›´æ–°å›¾è¡¨é¢„è§ˆ]
```

#### **å“åº”å¼è®¾è®¡ç­–ç•¥**

**CSS åª’ä½“æŸ¥è¯¢ç­–ç•¥**ï¼š

```css
/* å¤§å±å¹•ï¼ˆâ‰¥1200pxï¼‰ï¼šå·¦å³åˆ†æ å¸ƒå±€ */
@media (min-width: 1200px) {
  .chart-preview-card {
    height: 600px;
  }
  .data-flow .ant-col {
    min-height: 580px;
  }
}

/* ä¸­ç­‰å±å¹•ï¼ˆ768px-1199pxï¼‰ï¼šä¿æŒå·¦å³å¸ƒå±€ï¼Œè°ƒæ•´é«˜åº¦ */
@media (max-width: 1199px) and (min-width: 768px) {
  .chart-preview-card {
    height: 500px;
  }
  .data-flow .ant-col {
    min-height: 450px;
  }
}

/* å°å±å¹•ï¼ˆ<768pxï¼‰ï¼šåˆ‡æ¢ä¸ºä¸Šä¸‹å¸ƒå±€ */
@media (max-width: 768px) {
  .main-content-area .ant-col:first-child {
    order: 1; /* å›¾è¡¨é¢„è§ˆåœ¨ä¸Šæ–¹ */
  }
  .main-content-area .ant-col:last-child {
    order: 2; /* æ•°æ®æµåœ¨ä¸‹æ–¹ */
  }
  .chart-preview-card {
    height: 400px;
  }
}
```

### ğŸ“Š **å½“å‰æ¼”ç¤ºç³»ç»Ÿè¯¦ç»†ä¿¡æ¯**

#### **æ”¯æŒçš„å›¾è¡¨ç±»å‹**

åŸºäº `src/main/resources/echarts/` ç›®å½•ç»“æ„ï¼Œç³»ç»Ÿæ”¯æŒä»¥ä¸‹å›¾è¡¨åˆ†ç±»ï¼š

| åˆ†ç±»åç§° | è‹±æ–‡åç§°    | å›¾æ ‡               | æ–‡ä»¶æ•°é‡ | çŠ¶æ€        |
| -------- | ----------- | ------------------ | -------- | ----------- |
| æŠ˜çº¿å›¾   | Line Chart  | LineChartOutlined  | 3 ä¸ª     | âœ… å®Œæ•´æ”¯æŒ |
| æŸ±çŠ¶å›¾   | Bar Chart   | BarChartOutlined   | 2 ä¸ª     | âœ… å®Œæ•´æ”¯æŒ |
| é¥¼å›¾     | Pie Chart   | PieChartOutlined   | 2 ä¸ª     | ğŸš§ å¼€å‘ä¸­   |
| é›·è¾¾å›¾   | Radar Chart | RadarChartOutlined | 1 ä¸ª     | ğŸš§ å¼€å‘ä¸­   |
| ä»ªè¡¨ç›˜   | Gauge Chart | DashboardOutlined  | 3 ä¸ª     | ğŸš§ å¼€å‘ä¸­   |

#### **å…·ä½“å›¾è¡¨æ–‡ä»¶**

**æŠ˜çº¿å›¾åˆ†ç±»**ï¼š

- `åŸºç¡€æŠ˜çº¿å›¾.json` â†’ æ˜¾ç¤ºä¸º"åŸºç¡€æŠ˜çº¿å›¾"
- `åŸºç¡€å¹³æ»‘æŠ˜çº¿å›¾.json` â†’ æ˜¾ç¤ºä¸º"åŸºç¡€å¹³æ»‘æŠ˜çº¿å›¾"
- `æŠ˜çº¿å›¾å †å .json` â†’ æ˜¾ç¤ºä¸º"æŠ˜çº¿å›¾å †å "

**æŸ±çŠ¶å›¾åˆ†ç±»**ï¼š

- `åŸºç¡€æŸ±çŠ¶å›¾.json` â†’ æ˜¾ç¤ºä¸º"åŸºç¡€æŸ±çŠ¶å›¾"
- `å †å æŸ±çŠ¶å›¾.json` â†’ æ˜¾ç¤ºä¸º"å †å æŸ±çŠ¶å›¾"

**é¥¼å›¾åˆ†ç±»**ï¼š

- `å¯Œæ–‡æœ¬æ ‡ç­¾.json` â†’ æ˜¾ç¤ºä¸º"å¯Œæ–‡æœ¬æ ‡ç­¾"
- `åœ†è§’ç¯å½¢å›¾.json` â†’ æ˜¾ç¤ºä¸º"åœ†è§’ç¯å½¢å›¾"

**é›·è¾¾å›¾åˆ†ç±»**ï¼š

- `åŸºç¡€é›·è¾¾å›¾.json` â†’ æ˜¾ç¤ºä¸º"åŸºç¡€é›·è¾¾å›¾"

**ä»ªè¡¨ç›˜åˆ†ç±»**ï¼š

- `åŸºç¡€ä»ªè¡¨ç›˜.json` â†’ æ˜¾ç¤ºä¸º"åŸºç¡€ä»ªè¡¨ç›˜"
- `è¿›åº¦ä»ªè¡¨ç›˜.json` â†’ æ˜¾ç¤ºä¸º"è¿›åº¦ä»ªè¡¨ç›˜"
- `ç­‰çº§ä»ªè¡¨ç›˜.json` â†’ æ˜¾ç¤ºä¸º"ç­‰çº§ä»ªè¡¨ç›˜"

#### **å›¾è¡¨æ–‡ä»¶ä¸å›¾è¡¨ ID æ˜ å°„å…³ç³»**

**æ˜ å°„è§„åˆ™**ï¼šæ–‡ä»¶è·¯å¾„ â†’ å›¾è¡¨ ID â†’ JOLT è§„èŒƒæ–‡ä»¶

```javascript
// æ–‡ä»¶è·¯å¾„åˆ°å›¾è¡¨IDçš„æ˜ å°„å…³ç³»
const pathToIdMapping = {
  "æŠ˜çº¿å›¾/åŸºç¡€æŠ˜çº¿å›¾.json": "basic_line_chart",
  "æŠ˜çº¿å›¾/åŸºç¡€å¹³æ»‘æŠ˜çº¿å›¾.json": "smooth_line_chart",
  "æŠ˜çº¿å›¾/æŠ˜çº¿å›¾å †å .json": "stacked_line_chart",
  "æŸ±çŠ¶å›¾/åŸºç¡€æŸ±çŠ¶å›¾.json": "basic_bar_chart",
  "æŸ±çŠ¶å›¾/å †å æŸ±çŠ¶å›¾.json": "stacked_bar_chart",
  "é¥¼å›¾/å¯Œæ–‡æœ¬æ ‡ç­¾.json": "basic_pie_chart",
  "é¥¼å›¾/åœ†è§’ç¯å½¢å›¾.json": "doughnut_chart",
  "é›·è¾¾å›¾/åŸºç¡€é›·è¾¾å›¾.json": "basic_radar_chart",
  "ä»ªè¡¨ç›˜/åŸºç¡€ä»ªè¡¨ç›˜.json": "basic_gauge_chart",
  "ä»ªè¡¨ç›˜/è¿›åº¦ä»ªè¡¨ç›˜.json": "progress_gauge_chart",
  "ä»ªè¡¨ç›˜/ç­‰çº§ä»ªè¡¨ç›˜.json": "grade_gauge_chart",
};
```

#### **JOLT è½¬æ¢è§„èŒƒæ–‡ä»¶**

**æ–‡ä»¶ä½ç½®**ï¼š`src/main/resources/jolt-specs/`

| å›¾è¡¨ ID              | JOLT è§„èŒƒæ–‡ä»¶                 | è¯´æ˜               |
| -------------------- | ----------------------------- | ------------------ |
| `basic_line_chart`   | `line-chart-placeholder.json` | åŸºç¡€æŠ˜çº¿å›¾è½¬æ¢è§„èŒƒ |
| `smooth_line_chart`  | `line-chart-placeholder.json` | å¹³æ»‘æŠ˜çº¿å›¾è½¬æ¢è§„èŒƒ |
| `stacked_line_chart` | `line-chart-stacked.json`     | å †å æŠ˜çº¿å›¾è½¬æ¢è§„èŒƒ |
| `basic_bar_chart`    | `bar-chart-placeholder.json`  | åŸºç¡€æŸ±çŠ¶å›¾è½¬æ¢è§„èŒƒ |
| `stacked_bar_chart`  | `bar-chart-placeholder.json`  | å †å æŸ±çŠ¶å›¾è½¬æ¢è§„èŒƒ |
| `basic_pie_chart`    | `pie-chart-placeholder.json`  | åŸºç¡€é¥¼å›¾è½¬æ¢è§„èŒƒ   |

### ğŸ”„ **æ•°æ®è½¬æ¢æµç¨‹**

#### **å®Œæ•´æ•°æ®æµæè¿°**

**ç¬¬ä¸€æ­¥ï¼šç”¨æˆ·é€‰æ‹©å›¾è¡¨**

1. ç”¨æˆ·åœ¨ä¸€çº§ä¸‹æ‹‰æ¡†ä¸­é€‰æ‹©å›¾è¡¨åˆ†ç±»ï¼ˆå¦‚ï¼šæŠ˜çº¿å›¾ï¼‰
2. ç³»ç»Ÿæ ¹æ®ç›®å½•æ‰«æç»“æœå¡«å……äºŒçº§ä¸‹æ‹‰æ¡†
3. ç”¨æˆ·åœ¨äºŒçº§ä¸‹æ‹‰æ¡†ä¸­é€‰æ‹©å…·ä½“å›¾è¡¨ï¼ˆå¦‚ï¼šåŸºç¡€æŠ˜çº¿å›¾.jsonï¼‰

**ç¬¬äºŒæ­¥ï¼šå›¾è¡¨ ID ç”Ÿæˆå’Œæ˜ å°„**

1. ç³»ç»Ÿæ ¹æ®æ–‡ä»¶è·¯å¾„ç”Ÿæˆå¯¹åº”çš„å›¾è¡¨ IDï¼ˆå¦‚ï¼šbasic_line_chartï¼‰
2. è°ƒç”¨åç«¯ API è·å–å›¾è¡¨ä¿¡æ¯å’Œæ¨¡æ¿æ•°æ®
3. ç¡®å®šå¯¹åº”çš„ JOLT è½¬æ¢è§„èŒƒæ–‡ä»¶

**ç¬¬ä¸‰æ­¥ï¼šä¸¤é˜¶æ®µè½¬æ¢è¿‡ç¨‹**

1. **ç¬¬ä¸€é˜¶æ®µï¼ˆè¯­ä¹‰è½¬æ¢ï¼‰**ï¼š

   - è¾“å…¥ï¼šé€šç”¨ JSON æ¨¡æ¿ï¼ˆå«å ä½ç¬¦ï¼‰
   - å¤„ç†ï¼šä½¿ç”¨ JOLT è§„èŒƒå°†æ¨¡æ¿è½¬æ¢ä¸º ECharts ç»“æ„
   - è¾“å‡ºï¼šECharts ç»“æ„é…ç½®ï¼ˆä¿æŒå ä½ç¬¦ï¼‰

2. **ç¬¬äºŒé˜¶æ®µï¼ˆæ•°æ®å¡«å……ï¼‰**ï¼š
   - è¾“å…¥ï¼šECharts ç»“æ„é…ç½®ï¼ˆå«å ä½ç¬¦ï¼‰
   - å¤„ç†ï¼šæŸ¥è¯¢æ•°æ®åº“ï¼Œæ›¿æ¢æ‰€æœ‰å ä½ç¬¦
   - è¾“å‡ºï¼šæœ€ç»ˆçš„ ECharts é…ç½®

**ç¬¬å››æ­¥ï¼šå›¾è¡¨æ¸²æŸ“**

1. å·¦ä¾§å›¾è¡¨é¢„è§ˆåŒºåŸŸæ¥æ”¶æœ€ç»ˆé…ç½®
2. ä½¿ç”¨ ECharts åº“æ¸²æŸ“å›¾è¡¨
3. æä¾›å›¾è¡¨äº¤äº’åŠŸèƒ½ï¼ˆç¼©æ”¾ã€ä¸‹è½½ç­‰ï¼‰

#### **å…³é”®æ–‡ä»¶åœ¨è½¬æ¢è¿‡ç¨‹ä¸­çš„ä½œç”¨**

**1. ç›®å½•æ‰«æ API** (`/api/chart/two-stage/echarts-directory`)

- **ä½œç”¨**ï¼šæä¾›åŠ¨æ€çš„å›¾è¡¨åˆ†ç±»å’Œæ–‡ä»¶åˆ—è¡¨
- **è¾“å…¥**ï¼šæ— 
- **è¾“å‡º**ï¼šå®Œæ•´çš„ç›®å½•ç»“æ„ JSON

**2. ECharts ç¤ºä¾‹æ–‡ä»¶** (`src/main/resources/echarts/`)

- **ä½œç”¨**ï¼šæä¾›å›¾è¡¨çš„åŸºç¡€é…ç½®å’Œæ ·å¼
- **æ ¼å¼**ï¼šæ ‡å‡†çš„ ECharts é…ç½® JSON
- **ç”¨é€”**ï¼šä½œä¸ºæœ€ç»ˆæ¸²æŸ“çš„å‚è€ƒæ¨¡æ¿

**3. JOLT è§„èŒƒæ–‡ä»¶** (`src/main/resources/jolt-specs/`)

- **ä½œç”¨**ï¼šå®šä¹‰ä»é€šç”¨æ¨¡æ¿åˆ° ECharts ç»“æ„çš„è½¬æ¢è§„åˆ™
- **æ ¼å¼**ï¼šJOLT è½¬æ¢è§„èŒƒ JSON
- **ç”¨é€”**ï¼šç¬¬ä¸€é˜¶æ®µè½¬æ¢çš„æ ¸å¿ƒé€»è¾‘

**4. é€šç”¨æ¨¡æ¿** (å†…å­˜ä¸­ç”Ÿæˆ)

- **ä½œç”¨**ï¼šåŒ…å«å ä½ç¬¦çš„è¯­ä¹‰åŒ–æ¨¡æ¿
- **æ ¼å¼**ï¼šä¸šåŠ¡è¯­ä¹‰ JSON ç»“æ„
- **ç”¨é€”**ï¼šè½¬æ¢æµç¨‹çš„èµ·ç‚¹

#### **æ•°æ®æµå‘å›¾**

```
ç”¨æˆ·é€‰æ‹© â†’ æ–‡ä»¶è·¯å¾„ â†’ å›¾è¡¨ID â†’ é€šç”¨æ¨¡æ¿ â†’ JOLTè½¬æ¢ â†’ EChartsç»“æ„ â†’ æ•°æ®å¡«å…… â†’ æœ€ç»ˆé…ç½® â†’ å›¾è¡¨æ¸²æŸ“
    â†“         â†“         â†“         â†“          â†“          â†“          â†“          â†“          â†“
  ä¸‹æ‹‰æ¡†   ç›®å½•æ‰«æ   IDæ˜ å°„   æ¨¡æ¿ç”Ÿæˆ   è¯­ä¹‰è½¬æ¢   ç»“æ„è¾“å‡º   å ä½ç¬¦æ›¿æ¢  é…ç½®å®Œæˆ   å·¦ä¾§é¢„è§ˆ
```

### ğŸ› ï¸ **æŠ€æœ¯å®ç°ç»†èŠ‚**

#### **å‰ç«¯å…³é”®ä»£ç å®ç°**

**1. çº§è”ä¸‹æ‹‰æ¡†å®ç°**

```vue
<!-- ä¸€çº§ä¸‹æ‹‰æ¡†ï¼šå›¾è¡¨æ¨¡æ¿ç±»å‹ -->
<a-select
  v-model:value="selectedTemplateType"
  @change="handleTemplateTypeChange"
  placeholder="è¯·é€‰æ‹©å›¾è¡¨ç±»å‹"
  :loading="directoryCategories.length === 0"
>
  <a-select-option
    v-for="category in directoryCategories"
    :key="category"
    :value="category"
  >
    <component :is="getCategoryIcon(category)" style="margin-right: 8px" />
    {{ category }}
  </a-select-option>
</a-select>

<!-- äºŒçº§ä¸‹æ‹‰æ¡†ï¼šå…·ä½“å›¾è¡¨ç±»å‹ -->
<a-select
  v-model:value="selectedChartFile"
  @change="handleChartFileChange"
  placeholder="è¯·é€‰æ‹©å…·ä½“å›¾è¡¨"
  :disabled="!selectedTemplateType"
>
  <a-select-option
    v-for="chart in availableCharts"
    :key="chart.filePath"
    :value="chart.filePath"
  >
    {{ chart.name }}
  </a-select-option>
</a-select>
```

**2. ç›®å½•æ•°æ®åŠ è½½**

```typescript
// åŠ è½½EChartsç›®å½•ç»“æ„
const loadEChartsDirectory = async () => {
  try {
    const response = await twoStageApi.scanEChartsDirectory();

    if (response && response.directoryStructure) {
      echartsDirectoryStructure.value = response.directoryStructure;
      directoryCategories.value = Object.keys(response.directoryStructure);

      message.success(`å·²åŠ è½½ ${directoryCategories.value.length} ä¸ªå›¾è¡¨åˆ†ç±»`);
    }
  } catch (error) {
    message.error(`åŠ è½½ç›®å½•ç»“æ„å¤±è´¥: ${error.message}`);
    // é”™è¯¯æ¢å¤ï¼šä½¿ç”¨é»˜è®¤æ•°æ®
    directoryCategories.value = [
      "æŠ˜çº¿å›¾",
      "æŸ±çŠ¶å›¾",
      "é¥¼å›¾",
      "é›·è¾¾å›¾",
      "ä»ªè¡¨ç›˜",
    ];
  }
};
```

**3. å›¾è¡¨æ–‡ä»¶å˜åŒ–å¤„ç†**

```typescript
// å¤„ç†å›¾è¡¨æ–‡ä»¶å˜åŒ–ï¼ˆäºŒçº§ä¸‹æ‹‰æ¡†ï¼‰
const handleChartFileChange = async (filePath: string) => {
  try {
    // é‡ç½®çŠ¶æ€
    transformationStore.resetSteps();

    // æ ¹æ®æ–‡ä»¶è·¯å¾„ç”ŸæˆchartId
    const chartId = generateChartIdFromFilePath(filePath);
    transformationStore.setChartId(chartId);

    // è·å–å›¾è¡¨ä¿¡æ¯å¹¶æ‰§è¡Œè½¬æ¢
    const chartInfoResp = await twoStageApi.getChartInfo(chartId);
    chartInfo.value = chartInfoResp;

    // æ‰§è¡Œå®Œæ•´è½¬æ¢æµç¨‹
    await transformationStore.executeFullTransformation();

    message.success(`å·²åˆ‡æ¢åˆ°ï¼š${getDisplayNameFromFilePath(filePath)}`);
  } catch (error) {
    message.error(`å›¾è¡¨æ–‡ä»¶åˆ‡æ¢å¤±è´¥: ${error.message}`);
  }
};
```

#### **åç«¯å…³é”®ä»£ç å®ç°**

**1. ç›®å½•æ‰«æå®ç°**

```java
@GetMapping("/echarts-directory")
public ResponseEntity<ApiResponse<Map<String, Object>>> scanEChartsDirectory() {
    try {
        Map<String, Object> response = new HashMap<>();
        Map<String, List<Map<String, String>>> directoryStructure = new HashMap<>();

        // æ‰«æechartsç›®å½•
        File echartsDir = new File("src/main/resources/echarts");
        if (!echartsDir.exists() || !echartsDir.isDirectory()) {
            return ResponseEntity.status(404)
                    .body(ApiResponse.error("DIRECTORY_NOT_FOUND", "EChartsç›®å½•ä¸å­˜åœ¨"));
        }

        File[] categories = echartsDir.listFiles(File::isDirectory);
        if (categories != null) {
            for (File category : categories) {
                String categoryName = category.getName();
                List<Map<String, String>> files = new ArrayList<>();

                File[] jsonFiles = category.listFiles((dir, name) -> name.endsWith(".json"));
                if (jsonFiles != null) {
                    for (File jsonFile : jsonFiles) {
                        Map<String, String> fileInfo = new HashMap<>();
                        fileInfo.put("fileName", jsonFile.getName());
                        fileInfo.put("displayName", jsonFile.getName().replace(".json", ""));
                        fileInfo.put("filePath", categoryName + "/" + jsonFile.getName());
                        files.add(fileInfo);
                    }
                }

                directoryStructure.put(categoryName, files);
            }
        }

        response.put("directoryStructure", directoryStructure);
        response.put("categories", directoryStructure.keySet());

        int totalFiles = directoryStructure.values().stream()
                    .mapToInt(List::size)
                    .sum();
        response.put("totalFiles", totalFiles);

        return ResponseEntity.ok(ApiResponse.ok(response));

    } catch (Exception e) {
        return ResponseEntity.status(500)
                .body(ApiResponse.error("SCAN_ERROR", e.getMessage()));
    }
}
```

#### **CSS æ ·å¼ä¼˜åŒ–**

**1. ä¸»è¦å¸ƒå±€æ ·å¼**

```css
/* ä¸»è¦å†…å®¹åŒºåŸŸ */
.main-content-area {
  margin-bottom: 24px;
}

/* å›¾è¡¨é¢„è§ˆå¡ç‰‡ */
.chart-preview-card {
  height: 600px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;
  position: relative;
  background: #ffffff;
  border: 1px solid #e8e8e8;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
}

.chart-preview-card.active {
  border-color: #1890ff;
  box-shadow: 0 6px 16px rgba(24, 144, 255, 0.12);
  transform: translateY(-2px);
}

/* å›¾è¡¨å®¹å™¨ */
.chart-preview-card .chart-wrapper {
  height: 520px;
  width: 100%;
  position: relative;
  display: flex;
  align-items: stretch;
}

.chart-preview-card .chart-container {
  background: #ffffff;
  border: 1px solid #e8e8e8;
  border-radius: 6px;
  position: relative;
  overflow: hidden;
  display: block;
}
```

### ğŸ“± **ä½¿ç”¨ç¤ºä¾‹å’Œå¸¸è§é—®é¢˜è§£ç­”**

#### **ä½¿ç”¨ç¤ºä¾‹**

**1. åŸºæœ¬ä½¿ç”¨æµç¨‹**

```bash
# 1. å¯åŠ¨åç«¯æœåŠ¡
mvn spring-boot:run -DskipTests

# 2. å¯åŠ¨å‰ç«¯æœåŠ¡
cd frontend && npm run dev

# 3. è®¿é—®é¡µé¢
# æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:3000/transformation
```

**2. API è°ƒç”¨ç¤ºä¾‹**

```bash
# è·å–ç›®å½•ç»“æ„
curl -X GET "http://localhost:8080/api/chart/two-stage/echarts-directory"

# å“åº”ç¤ºä¾‹
{
  "code": "OK",
  "data": {
    "directoryStructure": {
      "æŠ˜çº¿å›¾": [
        {
          "fileName": "åŸºç¡€æŠ˜çº¿å›¾.json",
          "displayName": "åŸºç¡€æŠ˜çº¿å›¾",
          "filePath": "æŠ˜çº¿å›¾/åŸºç¡€æŠ˜çº¿å›¾.json"
        }
      ]
    },
    "categories": ["æŠ˜çº¿å›¾", "æŸ±çŠ¶å›¾", "é¥¼å›¾", "é›·è¾¾å›¾", "ä»ªè¡¨ç›˜"],
    "totalFiles": 11
  }
}
```

#### **å¸¸è§é—®é¢˜è§£ç­”**

**Q1: ä¸‹æ‹‰æ¡†æ˜¾ç¤ºä¸ºç©ºæˆ–åŠ è½½å¤±è´¥æ€ä¹ˆåŠï¼Ÿ**

A1: æ£€æŸ¥ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š

- ç¡®ä¿åç«¯æœåŠ¡æ­£å¸¸è¿è¡Œ
- æ£€æŸ¥ `src/main/resources/echarts/` ç›®å½•æ˜¯å¦å­˜åœ¨
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰ API è°ƒç”¨é”™è¯¯
- ç³»ç»Ÿä¼šè‡ªåŠ¨é™çº§åˆ°é»˜è®¤åˆ†ç±»åˆ—è¡¨

**Q2: å›¾è¡¨é¢„è§ˆåŒºåŸŸæ˜¾ç¤ºç©ºç™½æ€ä¹ˆåŠï¼Ÿ**

A2: å¯èƒ½çš„åŸå› å’Œè§£å†³æ–¹æ¡ˆï¼š

- æ£€æŸ¥æ˜¯å¦é€‰æ‹©äº†å…·ä½“çš„å›¾è¡¨æ–‡ä»¶
- ç¡®è®¤å›¾è¡¨ ID æ˜ å°„å…³ç³»æ˜¯å¦æ­£ç¡®
- æŸ¥çœ‹è½¬æ¢æµç¨‹æ˜¯å¦å®Œæˆ
- ç‚¹å‡»"é‡æ–°åˆå§‹åŒ–"æŒ‰é’®é‡æ–°åŠ è½½å›¾è¡¨

**Q3: ç§»åŠ¨ç«¯å¸ƒå±€æ˜¾ç¤ºå¼‚å¸¸æ€ä¹ˆåŠï¼Ÿ**

A3: ç³»ç»Ÿå·²å®ç°å“åº”å¼è®¾è®¡ï¼š

- å°å±å¹•ä¼šè‡ªåŠ¨åˆ‡æ¢ä¸ºä¸Šä¸‹å¸ƒå±€
- å¦‚æœä»æœ‰é—®é¢˜ï¼Œè¯·æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
- ç¡®ä¿ä½¿ç”¨ç°ä»£æµè§ˆå™¨ï¼ˆChrome 80+, Firefox 75+ï¼‰

**Q4: å¦‚ä½•æ·»åŠ æ–°çš„å›¾è¡¨ç±»å‹ï¼Ÿ**

A4: æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

1. åœ¨ `src/main/resources/echarts/` å¯¹åº”åˆ†ç±»ä¸‹æ·»åŠ  JSON æ–‡ä»¶
2. åœ¨æ˜ å°„å…³ç³»ä¸­æ·»åŠ æ–‡ä»¶è·¯å¾„åˆ°å›¾è¡¨ ID çš„æ˜ å°„
3. åˆ›å»ºå¯¹åº”çš„ JOLT è½¬æ¢è§„èŒƒæ–‡ä»¶
4. ç³»ç»Ÿä¼šè‡ªåŠ¨æ‰«æå¹¶æ˜¾ç¤ºæ–°çš„å›¾è¡¨é€‰é¡¹

**Q5: å›¾è¡¨æ¸²æŸ“æ€§èƒ½å¦‚ä½•ä¼˜åŒ–ï¼Ÿ**

A5: ç³»ç»Ÿå·²å†…ç½®å¤šé¡¹ä¼˜åŒ–ï¼š

- å›¾è¡¨å®ä¾‹å¤ç”¨ï¼Œé¿å…é‡å¤åˆ›å»º
- æ•°æ®å˜åŒ–æ—¶æ™ºèƒ½æ›´æ–°ï¼Œè€Œéé‡æ–°æ¸²æŸ“
- å“åº”å¼ç›‘å¬å™¨ï¼Œç¡®ä¿åŠæ—¶æ›´æ–°
- å¦‚éœ€è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œå¯è€ƒè™‘è™šæ‹Ÿæ»šåŠ¨æˆ–æ‡’åŠ è½½

---

**ğŸš€ ECharts ä¸¤é˜¶æ®µè½¬æ¢ç³»ç»Ÿä¸ºæ‚¨çš„æ•°æ®å¯è§†åŒ–éœ€æ±‚æä¾›äº†ä¸€ä¸ªç”Ÿäº§å°±ç»ªã€é«˜æ€§èƒ½ã€æ˜“æ‰©å±•çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼**
