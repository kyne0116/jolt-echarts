# ECharts ä¸¤é˜¶æ®µè½¬æ¢ç³»ç»Ÿ

ä¸€ä¸ªåŸºäºæ™ºèƒ½è½¬æ¢å¼•æ“å’Œåˆ†ç±»æ¨¡æ¿ç³»ç»Ÿçš„ ECharts åŠ¨æ€æ•°æ®å¯è§†åŒ–è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡ä¸¤é˜¶æ®µè½¬æ¢æ¶æ„ï¼ˆè¯­ä¹‰è½¬æ¢ + æ•°æ®å¡«å……ï¼‰ï¼Œå®ç°ä»é€šç”¨è¯­ä¹‰æ¨¡æ¿åˆ°æœ€ç»ˆ ECharts é…ç½®çš„æ™ºèƒ½è½¬æ¢ã€‚

## ğŸ“‹ éœ€æ±‚èƒŒæ™¯

### ğŸ¯ **æ ¸å¿ƒä¸šåŠ¡æŒ‘æˆ˜**

åœ¨ä¼ä¸šçº§æ•°æ®å¯è§†åŒ–åœºæ™¯ä¸­ï¼Œä¼ ç»Ÿå›¾è¡¨å¼€å‘é¢ä¸´ä¸‰å¤§æ ¸å¿ƒæŒ‘æˆ˜ï¼š

1. **æŠ€æœ¯é—¨æ§›é«˜**ï¼šå¼€å‘è€…éœ€è¦æ·±åº¦ç†è§£ ECharts API å’Œå¤æ‚çš„é…ç½®è¯­æ³•
2. **é‡å¤å¼€å‘**ï¼šç›¸ä¼¼å›¾è¡¨ç±»å‹é‡å¤ç¼–å†™è½¬æ¢é€»è¾‘ï¼Œç»´æŠ¤æˆæœ¬é«˜
3. **æ‰©å±•å›°éš¾**ï¼šæ–°å¢å›¾è¡¨ç±»å‹éœ€è¦ä»é›¶å¼€å§‹è®¾è®¡æ•°æ®ç»“æ„å’Œè½¬æ¢è§„åˆ™

ä¼ ç»Ÿçš„"ä¸€å›¾ä¸€é…ç½®"æ¨¡å¼å¯¼è‡´ä»£ç é‡å¤ã€ç»´æŠ¤å›°éš¾ï¼Œæ— æ³•æ»¡è¶³ä¼ä¸šçº§åº”ç”¨çš„çµæ´»æ€§å’Œæ‰©å±•æ€§éœ€æ±‚ã€‚

### ğŸ¯ **éœ€æ±‚ç›®æ ‡**

åŸºäºç³»ç»Ÿæ·±åº¦åˆ†æå’ŒæŠ€æœ¯æ¶æ„éªŒè¯ï¼Œæˆ‘ä»¬å‘ç°**æ˜ å°„å…³ç³»é…ç½®æ˜¯é—®é¢˜çš„æ ¹æº**ã€‚ç³»ç»Ÿéœ€è¦å®ç°ï¼š

#### **æ¶æ„è®¾è®¡ç›®æ ‡**

1. **é›¶ä»£ç é…ç½®**ï¼šç”¨æˆ·æ— éœ€äº†è§£ ECharts æŠ€æœ¯ç»†èŠ‚ï¼Œé€šè¿‡é¢„ç½®æ¨¡æ¿ã€æ¨¡æ¿ä¸æ•°æ®æ˜ å°„ã€æ¨¡æ¿é€šè¿‡ JOLT è½¬æ¢ï¼Œå¿«é€Ÿåˆ›å»º ECharts å›¾è¡¨
2. **æ™ºèƒ½è½¬æ¢å¼•æ“**ï¼šåŸºäºå›¾è¡¨ç±»å‹è‡ªåŠ¨æ˜ å°„è½¬æ¢é€»è¾‘ï¼Œå®ç°é«˜åº¦å¯è§†åŒ–é…ç½®
3. **ç»Ÿä¸€æ•°æ®æ¶æ„**ï¼š40 å­—æ®µç»Ÿä¸€æ•°æ®è§†å›¾ï¼Œè¦†ç›–æ‰€æœ‰å›¾è¡¨ç±»å‹çš„æ•°æ®éœ€æ±‚
4. **å·®å¼‚åŒ–æ˜ å°„é…ç½®**ï¼šé€šè¿‡é…ç½®ä¸åŒå­—æ®µæ˜ å°„å…³ç³»ï¼Œè§£å†³å›¾è¡¨é—´çš„å·®å¼‚åŒ–éœ€æ±‚

#### **ä¸šåŠ¡ä»·å€¼ç›®æ ‡**

- **å¼€å‘æ•ˆç‡æå‡ 80%**ï¼šä»ä¼ ç»Ÿæ‰‹å†™ ECharts é…ç½®åˆ°æ¨¡æ¿åŒ–å¿«é€Ÿç”Ÿæˆ
- **ç»´æŠ¤æˆæœ¬é™ä½ 70%**ï¼šç»Ÿä¸€æ¶æ„å‡å°‘é‡å¤ä»£ç å’Œç»´æŠ¤å·¥ä½œé‡
- **æ‰©å±•æˆæœ¬é™ä½ 90%**ï¼šæ–°å¢å›¾è¡¨ç±»å‹ä»…éœ€å¤ç”¨æˆ–æ–°å¢æ¨¡æ¿ã€å®šä¹‰ JOLT è½¬æ¢è§„èŒƒã€é…ç½®æ•°æ®ä¸å˜é‡æ˜ å°„å…³ç³»ï¼Œæ— éœ€é‡æ–°å¼€å‘

### ğŸ”„ **ä¸¤é˜¶æ®µè½¬æ¢æ¶æ„è®¾è®¡**

ç³»ç»Ÿæ ¸å¿ƒåˆ›æ–°åœ¨äº**ä¸¤é˜¶æ®µè½¬æ¢ + å ä½ç¬¦ä¿æŒ**æœºåˆ¶ï¼š

#### **ç¬¬ä¸€é˜¶æ®µï¼šè¯­ä¹‰è½¬æ¢ï¼ˆç»“æ„å¯¹é½ï¼‰**

- å°†ç”¨æˆ·å‹å¥½çš„é€šç”¨æ¨¡æ¿è½¬æ¢ä¸º ECharts ç»“æ„
- **å…³é”®åˆ›æ–°**ï¼šå®Œæ•´ä¿ç•™å ä½ç¬¦ï¼ˆ`${placeholder}`ï¼‰ï¼Œä¸è¿›è¡Œæ•°æ®å¡«å……
- é€šè¿‡ JOLT è½¬æ¢è§„èŒƒå®ç°ç»“æ„åŒ–è½¬æ¢

#### **ç¬¬äºŒé˜¶æ®µï¼šæ•°æ®å¡«å……ï¼ˆå˜é‡æ›¿æ¢ï¼‰**

- åŸºäºæ˜ å°„å…³ç³»é…ç½®ï¼Œå°†å ä½ç¬¦æ›¿æ¢ä¸ºçœŸå®æ•°æ®
- **æ ¸å¿ƒä»·å€¼**ï¼šé€šè¿‡ä¸åŒçš„å­—æ®µæ˜ å°„å®ç°å›¾è¡¨å·®å¼‚åŒ–
- æ”¯æŒä»ç»Ÿä¸€æ•°æ®è§†å›¾æŒ‰éœ€æå–æ•°æ®

#### **æ¶æ„ä¼˜åŠ¿**

- **ç»“æ„ä¸æ•°æ®åˆ†ç¦»**ï¼šæ¨¡æ¿å¤ç”¨æ€§æ›´å¼ºï¼Œæ•°æ®æºæ›´çµæ´»
- **å ä½ç¬¦æœºåˆ¶**ï¼šåŒä¸€æ¨¡æ¿æ”¯æŒä¸åŒæ•°æ®æºæ˜ å°„
- **æ¸è¿›å¼è½¬æ¢**ï¼šæ¯ä¸ªé˜¶æ®µèŒè´£æ¸…æ™°ï¼Œæ˜“äºè°ƒè¯•å’Œæ‰©å±•

## ğŸ—ï¸ ç³»ç»Ÿè®¾è®¡

### ğŸ“Š **æ ¸å¿ƒæ¶æ„ï¼šé›¶ä»£ç é…ç½®é©±åŠ¨**

ç³»ç»Ÿéµå¾ª"**é…ç½®ä¼˜äºç¼–ç¨‹**"çš„è®¾è®¡ç†å¿µï¼Œç”¨æˆ·é€šè¿‡é…ç½®è€Œéç¼–ç¨‹å®ç°å›¾è¡¨åˆ›å»ºï¼š

```
ç”¨æˆ·éœ€æ±‚åˆ†æ â†’ é€šç”¨æ¨¡æ¿ â†’ JOLTè½¬æ¢ â†’ EChartsç»“æ„ â†’ æ•°æ®æ˜ å°„ â†’ æœ€ç»ˆå›¾è¡¨
     â†“            â†“           â†“            â†“           â†“          â†“
   ä¸šåŠ¡é©±åŠ¨    æ ‡å‡†åŒ–æ¥å£   ç»“æ„è½¬æ¢    å ä½ç¬¦ä¿æŒ   å·®å¼‚åŒ–é…ç½®   æ™ºèƒ½ç”Ÿæˆ
```

### ğŸ¯ **åˆ†ç±»æ¨¡æ¿ç³»ç»Ÿï¼šå¹³è¡¡é€šç”¨æ€§ä¸ä¸“ç”¨æ€§**

åŸºäºå¯¹ ECharts åæ ‡ç³»çš„æ·±åº¦åˆ†æï¼Œç³»ç»Ÿè®¾è®¡äº†å››å¤§æ¨¡æ¿åˆ†ç±»ï¼š

#### **å››å¤§æ¨¡æ¿ç±»å‹**

- **CARTESIANï¼ˆç›´è§’åæ ‡ç³»ï¼‰**ï¼šæŠ˜çº¿å›¾ã€æŸ±çŠ¶å›¾ã€é¢ç§¯å›¾ - ä½¿ç”¨ `xAxis/yAxis`
- **PIEï¼ˆé¥¼å›¾ç±»ï¼‰**ï¼šé¥¼å›¾ã€ç¯å½¢å›¾ã€ç«ç‘°å›¾ - ä½¿ç”¨ `radius/center`
- **RADARï¼ˆé›·è¾¾å›¾ç±»ï¼‰**ï¼šé›·è¾¾å›¾ã€æåæ ‡å›¾ - ä½¿ç”¨ `radar.indicator`
- **GAUGEï¼ˆä»ªè¡¨ç›˜ç±»ï¼‰**ï¼šä»ªè¡¨ç›˜ã€è¿›åº¦æ¡ - ä½¿ç”¨ `min/max`

#### **åˆ†ç±»ç­–ç•¥çš„ä»·å€¼**

1. **ç»“æ„åŒ–å¤ç”¨**ï¼šåŒç±»å›¾è¡¨å…±äº«ç›¸åŒçš„ ECharts ç»“æ„æ¨¡å¼
2. **æ™ºèƒ½æ¨æ–­**ï¼šç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«å›¾è¡¨ç±»å‹å¹¶é€‰æ‹©å¯¹åº”è½¬æ¢é€»è¾‘
3. **æ‰©å±•ä¾¿åˆ©**ï¼šæ–°å¢å›¾è¡¨åªéœ€å½’ç±»åˆ°ç°æœ‰æ¨¡æ¿ç±»å‹

#### **å®Œæ•´å›¾è¡¨ç±»å‹æ”¯æŒçŸ©é˜µ**

åŸºäºå¯¹ç³»ç»Ÿä»£ç æ–‡ä»¶çš„æ·±åº¦åˆ†æï¼Œæ¢³ç†å‡ºå®Œæ•´çš„å›¾è¡¨ç±»å‹ã€æ¨¡æ¿åˆ†ç±»å’Œå®ç°çŠ¶æ€å¯¹åº”å…³ç³»ï¼š

##### **ğŸ“Š å››å¤§æ¨¡æ¿ç±»å‹ä¸å›¾è¡¨æ˜ å°„å…³ç³»**

**ğŸ”· CARTESIANï¼ˆç›´è§’åæ ‡ç³»ï¼‰- 6 ç§å›¾è¡¨**

- **æ¨¡æ¿ç‰¹å¾**ï¼šä½¿ç”¨ `xAxis/yAxis` åæ ‡è½´ï¼Œæ”¯æŒ `boundaryGap`ã€`stack`ã€`smooth` å±æ€§
- **æ•°æ®ç»“æ„**ï¼šåŸºäºç±»åˆ«æ•°æ® + ç³»åˆ—æ•°å€¼çš„äºŒç»´ç»“æ„
- **æ ¸å¿ƒå ä½ç¬¦**ï¼š`${categories}`, `${series_*_name}`, `${series_*_data}`, `${stack_group}`, `${smooth_style}`

| å›¾è¡¨ ID              | ä¸­æ–‡åç§°   | å®ç°çŠ¶æ€    | JOLT è§„èŒƒæ–‡ä»¶                 | ECharts ç¤ºä¾‹æ–‡ä»¶             |
| -------------------- | ---------- | ----------- | ----------------------------- | ---------------------------- |
| `basic_line_chart`   | åŸºç¡€æŠ˜çº¿å›¾ | âœ… å®Œæ•´å®ç° | `line-chart-placeholder.json` | `æŠ˜çº¿å›¾/åŸºç¡€æŠ˜çº¿å›¾.json`     |
| `smooth_line_chart`  | å¹³æ»‘æŠ˜çº¿å›¾ | âœ… å®Œæ•´å®ç° | `line-chart-placeholder.json` | `æŠ˜çº¿å›¾/åŸºç¡€å¹³æ»‘æŠ˜çº¿å›¾.json` |
| `stacked_line_chart` | å †å æŠ˜çº¿å›¾ | âœ… å®Œæ•´å®ç° | `line-chart-stacked.json`     | `æŠ˜çº¿å›¾/æŠ˜çº¿å›¾å †å .json`     |
| `basic_bar_chart`    | åŸºç¡€æŸ±çŠ¶å›¾ | âœ… å®Œæ•´å®ç° | `bar-chart-placeholder.json`  | `æŸ±çŠ¶å›¾/åŸºç¡€æŸ±çŠ¶å›¾.json`     |
| `stacked_bar_chart`  | å †å æŸ±çŠ¶å›¾ | âœ… å®Œæ•´å®ç° | `bar-chart-placeholder.json`  | `æŸ±çŠ¶å›¾/å †å æŸ±çŠ¶å›¾.json`     |
| `basic_area_chart`   | åŸºç¡€é¢ç§¯å›¾ | ğŸ“‹ ä»£ç å®šä¹‰ | _å¾…åˆ›å»º_                      | _å¾…åˆ›å»º_                     |

**ğŸ”· PIEï¼ˆé¥¼å›¾ç±»ï¼‰- 3 ç§å›¾è¡¨**

- **æ¨¡æ¿ç‰¹å¾**ï¼šä½¿ç”¨ `radius/center` å±æ€§ï¼Œæ”¯æŒ `roseType` æ ·å¼
- **æ•°æ®ç»“æ„**ï¼šåŸºäºåç§°-æ•°å€¼å¯¹çš„å¯¹è±¡æ•°ç»„ç»“æ„
- **æ ¸å¿ƒå ä½ç¬¦**ï¼š`${pie_data}`, `${radius_config}`, `${center_config}`, `${rose_type}`

| å›¾è¡¨ ID           | ä¸­æ–‡åç§°     | å®ç°çŠ¶æ€                    | JOLT è§„èŒƒæ–‡ä»¶                | ECharts ç¤ºä¾‹æ–‡ä»¶       |
| ----------------- | ------------ | --------------------------- | ---------------------------- | ---------------------- |
| `basic_pie_chart` | åŸºç¡€é¥¼å›¾     | ğŸš§ JOLT å¼€å‘ä¸­              | `pie-chart-placeholder.json` | `é¥¼å›¾/å¯Œæ–‡æœ¬æ ‡ç­¾.json` |
| `doughnut_chart`  | ç¯å½¢å›¾       | ğŸš§ JOLT å¼€å‘ä¸­              | `pie-chart-placeholder.json` | `é¥¼å›¾/åœ†è§’ç¯å½¢å›¾.json` |
| `rose_chart`      | ç«ç‘°å›¾       | ğŸ“‹ ä»£ç å®šä¹‰                 | _å¾…åˆ›å»º_                     | _å¾…åˆ›å»º_               |
| `pie_chart`       | é¥¼å›¾ï¼ˆå…¼å®¹ï¼‰ | â†—ï¸ æ˜ å°„åˆ° `basic_pie_chart` | -                            | -                      |

**ğŸ”· RADARï¼ˆé›·è¾¾å›¾ç±»ï¼‰- 2 ç§å›¾è¡¨**

- **æ¨¡æ¿ç‰¹å¾**ï¼šä½¿ç”¨ `radar.indicator` é…ç½®ï¼Œæ”¯æŒå¤šç»´æ•°æ®å±•ç¤º
- **æ•°æ®ç»“æ„**ï¼šåŸºäºæŒ‡æ ‡é…ç½® + å¤šç»´æ•°å€¼æ•°ç»„çš„å¤åˆç»“æ„
- **æ ¸å¿ƒå ä½ç¬¦**ï¼š`${radar_indicators}`, `${radar_data}`, `${area_style}`

| å›¾è¡¨ ID              | ä¸­æ–‡åç§°   | å®ç°çŠ¶æ€       | JOLT è§„èŒƒæ–‡ä»¶                  | ECharts ç¤ºä¾‹æ–‡ä»¶         |
| -------------------- | ---------- | -------------- | ------------------------------ | ------------------------ |
| `basic_radar_chart`  | åŸºç¡€é›·è¾¾å›¾ | ğŸš§ JOLT å¼€å‘ä¸­ | `radar-chart-placeholder.json` | `é›·è¾¾å›¾/åŸºç¡€é›·è¾¾å›¾.json` |
| `filled_radar_chart` | å¡«å……é›·è¾¾å›¾ | ğŸ“‹ ä»£ç å®šä¹‰    | _å¾…åˆ›å»º_                       | _å¾…åˆ›å»º_                 |

**ğŸ”· GAUGEï¼ˆä»ªè¡¨ç›˜ç±»ï¼‰- 3 ç§å›¾è¡¨**

- **æ¨¡æ¿ç‰¹å¾**ï¼šä½¿ç”¨ `min/max` èŒƒå›´é…ç½®ï¼Œæ”¯æŒè¿›åº¦æ¡å’Œç­‰çº§æ˜¾ç¤º
- **æ•°æ®ç»“æ„**ï¼šåŸºäºå•å€¼é…ç½®çš„ç®€å•ç»“æ„
- **æ ¸å¿ƒå ä½ç¬¦**ï¼š`${gauge_data}`, `${gauge_min}`, `${gauge_max}`, `${detail_config}`

| å›¾è¡¨ ID                | ä¸­æ–‡åç§°   | å®ç°çŠ¶æ€       | JOLT è§„èŒƒæ–‡ä»¶                  | ECharts ç¤ºä¾‹æ–‡ä»¶         |
| ---------------------- | ---------- | -------------- | ------------------------------ | ------------------------ |
| `basic_gauge_chart`    | åŸºç¡€ä»ªè¡¨ç›˜ | ğŸš§ JOLT å¼€å‘ä¸­ | `gauge-chart-placeholder.json` | `ä»ªè¡¨ç›˜/åŸºç¡€ä»ªè¡¨ç›˜.json` |
| `progress_gauge_chart` | è¿›åº¦ä»ªè¡¨ç›˜ | ğŸš§ JOLT å¼€å‘ä¸­ | `gauge-chart-placeholder.json` | `ä»ªè¡¨ç›˜/è¿›åº¦ä»ªè¡¨ç›˜.json` |
| `grade_gauge_chart`    | ç­‰çº§ä»ªè¡¨ç›˜ | ğŸš§ JOLT å¼€å‘ä¸­ | `gauge-chart-placeholder.json` | `ä»ªè¡¨ç›˜/ç­‰çº§ä»ªè¡¨ç›˜.json` |

##### **ğŸ“ˆ å®ç°çŠ¶æ€æ€»è§ˆ**

| å®ç°çŠ¶æ€        | æ•°é‡      | å›¾è¡¨ç±»å‹        | è¯´æ˜                                           |
| --------------- | --------- | --------------- | ---------------------------------------------- |
| âœ… **å®Œæ•´å®ç°** | 5 ç§      | CARTESIAN ä¸»å¯¼  | å…·å¤‡å®Œæ•´çš„ JOLT è§„èŒƒ + ECharts ç¤ºä¾‹ + è½¬æ¢é€»è¾‘ |
| ğŸš§ **å¼€å‘ä¸­**   | 6 ç§      | PIE/RADAR/GAUGE | æœ‰ ECharts ç¤ºä¾‹ï¼ŒJOLT è§„èŒƒå¼€å‘ä¸­               |
| ğŸ“‹ **å¾…å¼€å‘**   | 3 ç§      | å„ç±»å‹å‡æœ‰      | ä»…åœ¨ `TemplateType.java` ä¸­å®šä¹‰                |
| **æ€»è®¡**        | **14 ç§** | **4 å¤§ç±»å‹**    | **ç»Ÿä¸€æ•°æ®æ¶æ„**ï¼š`UniversalChartDataView`     |

##### **ğŸ” å…³é”®å‘ç°ä¸æŠ€æœ¯æ´å¯Ÿ**

1. **CARTESIAN ç±»å‹æœ€ä¸ºæˆç†Ÿ**ï¼š5 ç§å›¾è¡¨å…¨éƒ¨å®Œæ•´å®ç°ï¼Œæˆä¸ºç³»ç»Ÿçš„æŠ€æœ¯æ ‡æ†
2. **JOLT è§„èŒƒå¤ç”¨**ï¼šå¤šä¸ªå›¾è¡¨å…±äº«åŒä¸€ JOLT æ–‡ä»¶ï¼ˆå¦‚ `line-chart-placeholder.json`ï¼‰ï¼Œä½“ç°äº†æ¨¡æ¿å¤ç”¨çš„ä»·å€¼
3. **ç»Ÿä¸€æ•°æ®æ¶æ„**ï¼šæ‰€æœ‰å›¾è¡¨åŸºäºåŒä¸€ä¸ª 40 å­—æ®µçš„ `UniversalChartDataView`ï¼Œå®ç°äº†æ•°æ®æºçš„å®Œå…¨ç»Ÿä¸€
4. **æ˜ å°„å…³ç³»é…ç½®**ï¼šé€šè¿‡ä¸åŒçš„å­—æ®µæ˜ å°„å®ç°å›¾è¡¨é—´çš„å·®å¼‚åŒ–ï¼Œè¿™æ˜¯è§£å†³"åŸºç¡€æŠ˜çº¿å›¾ 1 æ¡çº¿ vs å †å æŠ˜çº¿å›¾ 5 æ¡çº¿"é—®é¢˜çš„æ ¸å¿ƒæœºåˆ¶

## ğŸ”— å ä½ç¬¦æ˜ å°„ç®¡ç†åŠŸèƒ½

### ğŸ“‹ **åŠŸèƒ½æ¦‚è¿°**

å ä½ç¬¦æ˜ å°„ç®¡ç†æ˜¯ç³»ç»Ÿçš„æ ¸å¿ƒåˆ›æ–°åŠŸèƒ½ï¼Œè§£å†³äº†è™šæ‹Ÿæ•°æ®åº“ä¸å›¾è¡¨æ¨¡æ¿ä¹‹é—´çš„**æ•°æ®å­¤å²›é—®é¢˜**ã€‚é€šè¿‡å»ºç«‹åŠ¨æ€ã€å¯é…ç½®çš„æ˜ å°„å…³ç³»ï¼Œå®ç°äº†æ•°æ®æºä¸å›¾è¡¨å±•ç¤ºçš„æ™ºèƒ½è¿æ¥ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿï¼š

- **é›¶ä»£ç é…ç½®**ï¼šé€šè¿‡å¯è§†åŒ–ç•Œé¢é…ç½®æ•°æ®æ˜ å°„ï¼Œæ— éœ€ç¼–å†™ä»£ç 
- **å®æ—¶æ•°æ®åŒæ­¥**ï¼šè™šæ‹Ÿæ•°æ®åº“å˜æ›´ç«‹å³åæ˜ åˆ°å›¾è¡¨å±•ç¤ºä¸­
- **æ™ºèƒ½æ¨èæ˜ å°„**ï¼šç³»ç»Ÿæ ¹æ®å ä½ç¬¦åç§°è‡ªåŠ¨æ¨èåˆé€‚çš„å­—æ®µæ˜ å°„
- **çµæ´»æ•°æ®å¤„ç†**ï¼šæ”¯æŒå¤šç§èšåˆæ–¹å¼å’Œè¿‡æ»¤æ¡ä»¶

### ğŸ—ï¸ **æŠ€æœ¯æ¶æ„**

#### **åç«¯æ ¸å¿ƒç»„ä»¶**

**1. PlaceholderMappingManager.java**

- **èŒè´£**ï¼šç»Ÿä¸€ç®¡ç†å ä½ç¬¦ä¸æ•°æ®åº“å­—æ®µçš„æ˜ å°„å…³ç³»
- **æ ¸å¿ƒåŠŸèƒ½**ï¼š
  - æ˜ å°„å…³ç³»å­˜å‚¨å’Œç®¡ç†
  - æ•°æ®æŸ¥è¯¢å’Œèšåˆå¤„ç†
  - å ä½ç¬¦æ›¿æ¢å’ŒéªŒè¯
  - æ™ºèƒ½æ˜ å°„æ¨è

**2. PlaceholderMappingController.java**

- **èŒè´£**ï¼šæä¾›å ä½ç¬¦æ˜ å°„ç®¡ç†çš„ RESTful API æ¥å£
- **ä¸»è¦ç«¯ç‚¹**ï¼š
  - `GET /api/chart/placeholder-mapping/{chartId}/placeholders` - è·å–å ä½ç¬¦åˆ—è¡¨
  - `POST /api/chart/placeholder-mapping/{chartId}/mappings` - é…ç½®æ˜ å°„å…³ç³»
  - `POST /api/chart/placeholder-mapping/{chartId}/preview` - é¢„è§ˆæ˜ å°„ç»“æœ
  - `GET /api/chart/placeholder-mapping/available-fields` - è·å–å¯ç”¨å­—æ®µ

**3. TwoStageTransformationService.javaï¼ˆå¢å¼ºï¼‰**

- **é›†æˆç­–ç•¥**ï¼šä¼˜å…ˆä½¿ç”¨æ–°æ˜ å°„ç®¡ç†å™¨ï¼Œä¿æŒå‘åå…¼å®¹
- **å›é€€æœºåˆ¶**ï¼šæ˜ å°„å¤±è´¥æ—¶è‡ªåŠ¨å›é€€åˆ°ä¼ ç»Ÿæ–¹å¼
- **æ€§èƒ½ä¼˜åŒ–**ï¼šç¼“å­˜æ˜ å°„ç»“æœï¼Œå‡å°‘é‡å¤è®¡ç®—

#### **å‰ç«¯ç•Œé¢ç»„ä»¶**

**1. PlaceholderMappingManager.vue**

- **è®¾è®¡ç†å¿µ**ï¼šä¸‰æ å¼å¸ƒå±€ï¼Œæ“ä½œæµç¨‹æ¸…æ™°ç›´è§‚
- **æ ¸å¿ƒç‰¹æ€§**ï¼š
  - å·¦æ ï¼šå›¾è¡¨é€‰æ‹©å’Œå ä½ç¬¦åˆ—è¡¨
  - ä¸­æ ï¼šæ˜ å°„é…ç½®å’Œæ™ºèƒ½æ¨è
  - å³æ ï¼šå®æ—¶é¢„è§ˆå’Œæµ‹è¯•ç»“æœ

**2. API æ¥å£æ‰©å±•**

- **placeholderMappingApi**ï¼šå®Œæ•´çš„æ˜ å°„ç®¡ç† API å°è£…
- **ç±»å‹å®‰å…¨**ï¼šTypeScript æ¥å£å®šä¹‰ï¼Œæä¾›å®Œæ•´çš„ç±»å‹æ£€æŸ¥
- **é”™è¯¯å¤„ç†**ï¼šç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†å’Œç”¨æˆ·æç¤ºæœºåˆ¶

### ğŸ¯ **ç”¨æˆ·æ“ä½œæŒ‡å—**

#### **è®¿é—®è·¯å¾„**

1. å¯åŠ¨ç³»ç»Ÿåï¼Œè®¿é—®å‰ç«¯ç•Œé¢ï¼š`http://localhost:3000`
2. åœ¨ä¸»å¯¼èˆªèœå•ä¸­é€‰æ‹© **"æ˜ å°„ç®¡ç†"**
3. åˆ‡æ¢åˆ° **"é«˜çº§æ˜ å°„ç®¡ç†å™¨"** æ ‡ç­¾é¡µ

#### **ç•Œé¢å¸ƒå±€è¯´æ˜**

**å·¦ä¾§é¢æ¿ - å›¾è¡¨é€‰æ‹©ä¸å ä½ç¬¦ç®¡ç†**

- **å›¾è¡¨ç±»å‹é€‰æ‹©**ï¼šæ”¯æŒå †å æŠ˜çº¿å›¾ã€åŸºç¡€æŸ±çŠ¶å›¾ã€é¥¼å›¾ã€é›·è¾¾å›¾ç­‰
- **å ä½ç¬¦åˆ—è¡¨**ï¼šè‡ªåŠ¨æå–é€‰ä¸­å›¾è¡¨çš„æ‰€æœ‰å ä½ç¬¦
- **çŠ¶æ€æŒ‡ç¤º**ï¼šç»¿è‰²è¡¨ç¤ºå·²æ˜ å°„ï¼Œæ©™è‰²è¡¨ç¤ºæœªæ˜ å°„
- **åˆ·æ–°åŠŸèƒ½**ï¼šå®æ—¶æ›´æ–°å ä½ç¬¦åˆ—è¡¨

**ä¸­é—´é¢æ¿ - æ˜ å°„é…ç½®**

- **å­—æ®µé€‰æ‹©**ï¼šä» 12 ä¸ªæ ¸å¿ƒä¸šåŠ¡å­—æ®µä¸­é€‰æ‹©æ˜ å°„ç›®æ ‡
- **æ•°æ®ç±»å‹**ï¼šæ”¯æŒå­—ç¬¦ä¸²ã€æ•°å€¼ã€æ•°ç»„ã€å¯¹è±¡ã€å¸ƒå°”å€¼
- **èšåˆæ–¹å¼**ï¼šæä¾› sumã€avgã€countã€maxã€minã€list ç­‰èšåˆé€‰é¡¹
- **è¿‡æ»¤æ¡ä»¶**ï¼šæ”¯æŒå¤šæ¡ä»¶ç»„åˆè¿‡æ»¤
- **æ™ºèƒ½æ¨è**ï¼šä¸€é”®ç”Ÿæˆé»˜è®¤æ˜ å°„é…ç½®

**å³ä¾§é¢æ¿ - é¢„è§ˆä¸æµ‹è¯•**

- **æ˜ å°„æ‘˜è¦**ï¼šæ˜¾ç¤ºæ˜ å°„å®Œæ•´æ€§å’ŒçŠ¶æ€ç»Ÿè®¡
- **æ˜ å°„æ•°æ®**ï¼šå±•ç¤ºå®é™…æŸ¥è¯¢åˆ°çš„æ•°æ®å†…å®¹
- **æœ€ç»ˆç»“æœ**ï¼šæ˜¾ç¤ºå ä½ç¬¦æ›¿æ¢åçš„å®Œæ•´ ECharts é…ç½®
- **å®æ—¶é¢„è§ˆ**ï¼šé…ç½®å˜æ›´ç«‹å³æ˜¾ç¤ºé¢„è§ˆæ•ˆæœ

#### **å®Œæ•´æ“ä½œæµç¨‹**

**æ­¥éª¤ 1ï¼šé€‰æ‹©å›¾è¡¨ç±»å‹**

```
1. åœ¨å·¦ä¾§é¢æ¿é€‰æ‹©å›¾è¡¨ç±»å‹ï¼ˆå¦‚"stacked_line_chart"ï¼‰
2. ç³»ç»Ÿè‡ªåŠ¨åŠ è½½è¯¥å›¾è¡¨çš„æ‰€æœ‰å ä½ç¬¦
3. æ˜¾ç¤ºå ä½ç¬¦æ•°é‡å’Œæ˜ å°„çŠ¶æ€
```

**æ­¥éª¤ 2ï¼šé…ç½®æ˜ å°„å…³ç³»**

```
1. ç‚¹å‡»å·¦ä¾§å ä½ç¬¦åˆ—è¡¨ä¸­çš„ä»»ä¸€å ä½ç¬¦
2. åœ¨ä¸­é—´é¢æ¿é…ç½®æ˜ å°„å…³ç³»ï¼š
   - é€‰æ‹©æ•°æ®åº“å­—æ®µï¼ˆå¦‚ï¼šamountã€quantityã€categoryç­‰ï¼‰
   - è®¾ç½®æ•°æ®ç±»å‹ï¼ˆå¦‚ï¼šnumberã€stringã€arrayï¼‰
   - é€‰æ‹©èšåˆæ–¹å¼ï¼ˆå¦‚ï¼šsumã€avgã€listï¼‰
   - æ·»åŠ è¿‡æ»¤æ¡ä»¶ï¼ˆå¯é€‰ï¼‰
3. ç‚¹å‡»"ä¿å­˜æ˜ å°„"æŒ‰é’®
```

**æ­¥éª¤ 3ï¼šæ™ºèƒ½æ¨èï¼ˆå¯é€‰ï¼‰**

```
1. ç‚¹å‡»"æ™ºèƒ½æ¨è"æŒ‰é’®
2. ç³»ç»Ÿæ ¹æ®å ä½ç¬¦åç§°è‡ªåŠ¨æ¨èæ˜ å°„å…³ç³»
3. ç”¨æˆ·å¯ä»¥è°ƒæ•´æ¨èç»“æœ
```

**æ­¥éª¤ 4ï¼šé¢„è§ˆå’Œæµ‹è¯•**

```
1. ç‚¹å‡»å³ä¾§é¢æ¿çš„"é¢„è§ˆç»“æœ"æŒ‰é’®
2. æŸ¥çœ‹æ˜ å°„æ‘˜è¦ã€æ˜ å°„æ•°æ®å’Œæœ€ç»ˆç»“æœ
3. ç‚¹å‡»"æµ‹è¯•æ˜ å°„"è¿›è¡Œå®Œæ•´æµç¨‹æµ‹è¯•
```

**æ­¥éª¤ 5ï¼šä¿å­˜é…ç½®**

```
1. ç¡®è®¤æ‰€æœ‰æ˜ å°„é…ç½®æ­£ç¡®
2. ç‚¹å‡»"ä¿å­˜é…ç½®"æŒ‰é’®
3. ç³»ç»Ÿä¿å­˜æ˜ å°„å…³ç³»ï¼Œä¾›è½¬æ¢å¼•æ“ä½¿ç”¨
```

### âœ¨ **æŠ€æœ¯ç‰¹æ€§äº®ç‚¹**

#### **1. æ™ºèƒ½æ¨èæœºåˆ¶**

- **è¯­ä¹‰åˆ†æ**ï¼šæ ¹æ®å ä½ç¬¦åç§°æ™ºèƒ½æ¨æ–­æ˜ å°„å­—æ®µ
- **ç±»å‹åŒ¹é…**ï¼šè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„æ•°æ®ç±»å‹å’Œèšåˆæ–¹å¼
- **ç»éªŒå­¦ä¹ **ï¼šåŸºäºå¸¸ç”¨æ˜ å°„æ¨¡å¼æä¾›æ¨è

**æ¨èè§„åˆ™ç¤ºä¾‹**ï¼š

```javascript
${categories} â†’ categoryå­—æ®µ + arrayç±»å‹ + listèšåˆ
${amount} â†’ amountå­—æ®µ + numberç±»å‹ + sumèšåˆ
${series_1_data} â†’ quantityå­—æ®µ + numberç±»å‹ + sumèšåˆ
${region} â†’ regionå­—æ®µ + stringç±»å‹ + noneèšåˆ
```

#### **2. å®æ—¶é¢„è§ˆåŠŸèƒ½**

- **å³æ—¶åé¦ˆ**ï¼šé…ç½®å˜æ›´ç«‹å³æ˜¾ç¤ºé¢„è§ˆç»“æœ
- **å¤šç»´å±•ç¤º**ï¼šåŒæ—¶æ˜¾ç¤ºæ˜ å°„æ•°æ®å’Œæœ€ç»ˆ ECharts é…ç½®
- **é”™è¯¯æç¤º**ï¼šå®æ—¶éªŒè¯é…ç½®å®Œæ•´æ€§å’Œæ­£ç¡®æ€§

#### **3. å¤šç§èšåˆæ–¹å¼æ”¯æŒ**

- **æ•°å€¼èšåˆ**ï¼šsumï¼ˆæ±‚å’Œï¼‰ã€avgï¼ˆå¹³å‡å€¼ï¼‰ã€maxï¼ˆæœ€å¤§å€¼ï¼‰ã€minï¼ˆæœ€å°å€¼ï¼‰
- **è®¡æ•°èšåˆ**ï¼šcountï¼ˆè®°å½•æ•°é‡ï¼‰
- **åˆ—è¡¨èšåˆ**ï¼šlistï¼ˆè¿”å›æ‰€æœ‰å€¼çš„æ•°ç»„ï¼‰
- **æ— èšåˆ**ï¼šnoneï¼ˆç›´æ¥ä½¿ç”¨åŸå§‹å€¼ï¼‰

#### **4. æ•°æ®ä¸€è‡´æ€§ä¿éšœ**

- **äº‹åŠ¡ç®¡ç†**ï¼šç¡®ä¿æ˜ å°„é…ç½®çš„åŸå­æ€§æ“ä½œ
- **ç‰ˆæœ¬æ§åˆ¶**ï¼šæ”¯æŒæ˜ å°„é…ç½®çš„ç‰ˆæœ¬ç®¡ç†å’Œå›æ»š
- **å®æ—¶åŒæ­¥**ï¼šè™šæ‹Ÿæ•°æ®åº“å˜æ›´ç«‹å³åæ˜ åˆ°è½¬æ¢ç»“æœ
- **é”™è¯¯æ¢å¤**ï¼šæ˜ å°„å¤±è´¥æ—¶è‡ªåŠ¨å›é€€åˆ°ä¼ ç»Ÿæ–¹å¼

### ğŸ¯ **ä½¿ç”¨ç¤ºä¾‹ï¼šå †å æŠ˜çº¿å›¾æ˜ å°„é…ç½®**

#### **åœºæ™¯æè¿°**

ä¸º"è¥é”€æ¸ é“åˆ†æ"å †å æŠ˜çº¿å›¾é…ç½®å ä½ç¬¦æ˜ å°„ï¼Œå±•ç¤ºä¸åŒæ¸ é“çš„æœˆåº¦é”€å”®æ•°æ®ã€‚

#### **æ­¥éª¤è¯¦è§£**

**1. å›¾è¡¨é€‰æ‹©**

```
é€‰æ‹©å›¾è¡¨ç±»å‹ï¼šstacked_line_chart
ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«å ä½ç¬¦ï¼š
- ${chart_title}
- ${categories}
- ${series_1_name}
- ${series_1_data}
- ${series_2_name}
- ${series_2_data}
- ${stack_group}
```

**2. æ˜ å°„é…ç½®**

```
${chart_title} â†’
  å­—æ®µï¼šcategory
  ç±»å‹ï¼šstring
  èšåˆï¼šnone
  è¿‡æ»¤ï¼šcategory = "è¥é”€æ¸ é“åˆ†æ"

${categories} â†’
  å­—æ®µï¼šmonth
  ç±»å‹ï¼šarray
  èšåˆï¼šlist
  è¿‡æ»¤ï¼šyear = "2024"

${series_1_name} â†’
  å­—æ®µï¼šchannel
  ç±»å‹ï¼šstring
  èšåˆï¼šnone
  è¿‡æ»¤ï¼šchannel = "Email"

${series_1_data} â†’
  å­—æ®µï¼šamount
  ç±»å‹ï¼šnumber
  èšåˆï¼šsum
  è¿‡æ»¤ï¼šchannel = "Email"

${series_2_name} â†’
  å­—æ®µï¼šchannel
  ç±»å‹ï¼šstring
  èšåˆï¼šnone
  è¿‡æ»¤ï¼šchannel = "Social Media"

${series_2_data} â†’
  å­—æ®µï¼šamount
  ç±»å‹ï¼šnumber
  èšåˆï¼šsum
  è¿‡æ»¤ï¼šchannel = "Social Media"

${stack_group} â†’
  å­—æ®µï¼šcategory
  ç±»å‹ï¼šstring
  èšåˆï¼šnone
  è¿‡æ»¤ï¼šæ— 
```

**3. é¢„è§ˆç»“æœ**

```json
{
  "mappedData": {
    "${chart_title}": "è¥é”€æ¸ é“åˆ†æ",
    "${categories}": ["1æœˆ", "2æœˆ", "3æœˆ", "4æœˆ", "5æœˆ"],
    "${series_1_name}": "Email",
    "${series_1_data}": [12500, 13200, 11800, 14500, 15200],
    "${series_2_name}": "Social Media",
    "${series_2_data}": [8900, 9500, 8200, 10200, 11100],
    "${stack_group}": "è¥é”€æ¸ é“"
  },
  "finalResult": {
    "title": { "text": "è¥é”€æ¸ é“åˆ†æ" },
    "xAxis": { "data": ["1æœˆ", "2æœˆ", "3æœˆ", "4æœˆ", "5æœˆ"] },
    "series": [
      {
        "name": "Email",
        "data": [12500, 13200, 11800, 14500, 15200],
        "type": "line",
        "stack": "è¥é”€æ¸ é“"
      },
      {
        "name": "Social Media",
        "data": [8900, 9500, 8200, 10200, 11100],
        "type": "line",
        "stack": "è¥é”€æ¸ é“"
      }
    ]
  }
}
```

**4. æ•ˆæœéªŒè¯**

- âœ… æ‰€æœ‰å ä½ç¬¦æˆåŠŸæ˜ å°„
- âœ… æ•°æ®èšåˆè®¡ç®—æ­£ç¡®
- âœ… å›¾è¡¨é…ç½®æ ¼å¼ç¬¦åˆ ECharts è§„èŒƒ
- âœ… å®æ—¶é¢„è§ˆæ˜¾ç¤ºæ­£å¸¸

#### **æŠ€æœ¯ä»·å€¼ä½“ç°**

1. **é›¶ä»£ç å®ç°**ï¼šç”¨æˆ·æ— éœ€ç¼–å†™ä»»ä½•ä»£ç å³å¯å®Œæˆå¤æ‚çš„æ•°æ®æ˜ å°„
2. **é…ç½®å¤ç”¨**ï¼šåŒç±»å›¾è¡¨å¯ä»¥å¤ç”¨æ˜ å°„é…ç½®æ¨¡æ¿
3. **æ•°æ®çµæ´»æ€§**ï¼šåŒä¸€å›¾è¡¨æ¨¡æ¿å¯ä»¥æ˜ å°„ä¸åŒçš„æ•°æ®æº
4. **ç»´æŠ¤ä¾¿åˆ©æ€§**ï¼šæ˜ å°„å…³ç³»é›†ä¸­ç®¡ç†ï¼Œæ˜“äºç»´æŠ¤å’Œè°ƒè¯•

### ğŸ”— **ç»Ÿä¸€æ•°æ®è§†å›¾ï¼šå•ä¸€æ•°æ®æºæ¶æ„**

#### **UniversalChartDataView è®¾è®¡ç†å¿µ**

ç³»ç»Ÿåˆ›æ–°æ€§åœ°è®¾è®¡äº†**40 å­—æ®µç»Ÿä¸€æ•°æ®è§†å›¾**ï¼Œå½»åº•è§£å†³äº†ä¼ ç»Ÿå¤šè¡¨æ˜ å°„çš„å¤æ‚æ€§ï¼š

```java
// ç»Ÿä¸€æ•°æ®è§†å›¾æ¶æ„
public class UniversalChartDataView {
    // åŸºç¡€ä¿¡æ¯ (8å­—æ®µ): id, title, chart_type, theme, description, data_source, created_at, updated_at
    // æ—¶é—´ç»´åº¦ (8å­—æ®µ): date, day_name, month, month_name, year, quarter, week_number, timestamp
    // åˆ†ç±»æ•°æ® (8å­—æ®µ): category, sub_category, channel_name, channel_type, product_name, product_type, region, department
    // æ•°å€¼å­—æ®µ (8å­—æ®µ): value, conversion_count, click_count, view_count, percentage, ratio, amount, quantity
    // é…ç½®å­—æ®µ (8å­—æ®µ): color, style, radius, center, stack_group, smooth_style, boundary_gap, extra_config
}
```

#### **æ•°æ®è§†å›¾çš„æ ¸å¿ƒä»·å€¼**

1. **æ•°æ®æºç»Ÿä¸€**ï¼šæ‰€æœ‰å›¾è¡¨ç±»å‹ä½¿ç”¨åŒä¸€ä¸ªæ•°æ®æºï¼Œæ¶ˆé™¤æ•°æ®å­¤å²›
2. **å­—æ®µè¦†ç›–å®Œæ•´**ï¼š40 ä¸ªç²¾å¿ƒè®¾è®¡çš„å­—æ®µè¦†ç›–æ‰€æœ‰ä¸»æµå›¾è¡¨çš„æ•°æ®éœ€æ±‚
3. **æ‰©å±•æ€§å¼º**ï¼šæ–°å¢å›¾è¡¨ç±»å‹æ— éœ€æ–°å»ºæ•°æ®è¡¨ï¼Œåªéœ€æ·»åŠ å­—æ®µæ˜ å°„
4. **æŸ¥è¯¢ç®€åŒ–**ï¼šç»Ÿä¸€çš„æ•°æ®æå–æ¥å£ï¼Œæ”¯æŒæŒ‰éœ€å­—æ®µæå–
5. **ç»´æŠ¤ä¾¿åˆ©**ï¼šå•ä¸€æ•°æ®ç»“æ„ï¼Œå¤§å¹…é™ä½æ•°æ®åŒæ­¥å’Œç»´æŠ¤æˆæœ¬

### âš™ï¸ **æ˜ å°„å…³ç³»é…ç½®ï¼šé—®é¢˜çš„æ ¹æºä¸è§£å†³**

#### **å½“å‰é—®é¢˜åˆ†æ**

ç»è¿‡æ·±å…¥åˆ†æï¼Œæˆ‘ä»¬å‘ç°äº†å¯¼è‡´"åŸºç¡€æŠ˜çº¿å›¾æ˜¾ç¤º 1 æ¡çº¿ï¼Œå †å æŠ˜çº¿å›¾æ˜¾ç¤º 5 æ¡çº¿"çš„æ ¹æœ¬åŸå› ï¼š

```java
// é—®é¢˜æ ¹æºï¼šæ‰€æœ‰ç³»åˆ—åç§°æ˜ å°„åˆ°åŒä¸€ä¸ªå­—æ®µ
universalMappings.put("${series_1_name}", createMapping("channel_name"));
universalMappings.put("${series_2_name}", createMapping("channel_name"));  // ç›¸åŒå­—æ®µï¼
universalMappings.put("${series_3_name}", createMapping("channel_name"));  // ç›¸åŒå­—æ®µï¼
universalMappings.put("${series_4_name}", createMapping("channel_name"));  // ç›¸åŒå­—æ®µï¼
universalMappings.put("${series_5_name}", createMapping("channel_name"));  // ç›¸åŒå­—æ®µï¼

// ç»“æœï¼šæ‰€æœ‰ç³»åˆ—éƒ½å˜æˆ "Mock_channel_name"
// ECharts è‡ªåŠ¨åˆå¹¶åŒåç³»åˆ— â†’ åªæ˜¾ç¤º1æ¡çº¿
// ä½†å †å å›¾å› ä¸º stack:"Total" å±æ€§å¼ºåˆ¶ä¿ç•™æ‰€æœ‰ç³»åˆ—
```

#### **è§£å†³æ–¹æ¡ˆï¼šå·®å¼‚åŒ–æ˜ å°„é…ç½®**

```java
// âœ… è§£å†³æ–¹æ¡ˆï¼šæ˜ å°„åˆ°ä¸åŒå­—æ®µå®ç°å·®å¼‚åŒ–
universalMappings.put("${series_1_name}", createMapping("channel_name"));    // æ¸ é“
universalMappings.put("${series_2_name}", createMapping("product_name"));    // äº§å“
universalMappings.put("${series_3_name}", createMapping("region"));          // åœ°åŒº
universalMappings.put("${series_4_name}", createMapping("department"));      // éƒ¨é—¨
universalMappings.put("${series_5_name}", createMapping("product_type"));    // äº§å“ç±»å‹

// ç»“æœï¼š5ä¸ªä¸åŒçš„ç³»åˆ—åç§° â†’ ECharts æ˜¾ç¤º5æ¡ä¸åŒçš„çº¿
```

#### **æ˜ å°„å…³ç³»çš„æ ¸å¿ƒä»·å€¼**

1. **å·®å¼‚åŒ–å®ç°**ï¼šé€šè¿‡é…ç½®ä¸åŒå­—æ®µæ˜ å°„ï¼ŒåŒä¸€æ¨¡æ¿æ”¯æŒä¸åŒçš„æ•°æ®å‘ˆç°
2. **çµæ´»æ€§ä¿è¯**ï¼šæ— éœ€ä¿®æ”¹ä»£ç ï¼Œä»…é€šè¿‡é…ç½®è°ƒæ•´å³å¯å®ç°å›¾è¡¨å˜åŒ–
3. **æ‰©å±•æ€§æ”¯æ’‘**ï¼šæ–°çš„ä¸šåŠ¡éœ€æ±‚åªéœ€è°ƒæ•´æ˜ å°„é…ç½®ï¼Œæ— éœ€é‡æ„ç³»ç»Ÿ
4. **ç»´æŠ¤ç®€åŒ–**ï¼šé›†ä¸­åŒ–çš„æ˜ å°„é…ç½®ç®¡ç†ï¼Œæ˜“äºç»´æŠ¤å’Œè°ƒè¯•

### ğŸ¯ **æ ¸å¿ƒæŠ€æœ¯çªç ´æ€»ç»“**

#### **é—®é¢˜å®šä½çš„ç²¾å‡†æ€§**

- å‡†ç¡®è¯†åˆ«åˆ°æ˜ å°„å…³ç³»é…ç½®æ˜¯å¯¼è‡´å›¾è¡¨å·®å¼‚çš„æ ¹æœ¬åŸå› 
- å‘ç° ECharts ç³»åˆ—åç§°åˆå¹¶æœºåˆ¶ä¸å †å å±æ€§çš„äº¤äº’å½±å“

#### **æ¶æ„è®¾è®¡çš„åˆç†æ€§**

- å››å¤§æ¨¡æ¿ç±»å‹åŸºäº ECharts åæ ‡ç³»çš„æœ¬è´¨å·®å¼‚è¿›è¡Œåˆ†ç±»
- ç»Ÿä¸€æ•°æ®è§†å›¾å…¼é¡¾é€šç”¨æ€§å’Œä¸“ä¸šæ€§çš„å¹³è¡¡
- ä¸¤é˜¶æ®µè½¬æ¢å®ç°ç»“æ„ä¸æ•°æ®çš„å®Œç¾åˆ†ç¦»

#### **é›¶ä»£ç ç†å¿µçš„å®ç°**

- ç”¨æˆ·åªéœ€é…ç½®æ˜ å°„å…³ç³»ï¼Œæ— éœ€ç¼–å†™è½¬æ¢ä»£ç 
- æ™ºèƒ½æ¨æ–­å¼•æ“è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„è½¬æ¢é€»è¾‘
- é…ç½®é©±åŠ¨çš„æ‰©å±•æœºåˆ¶ï¼Œé™ä½æŠ€æœ¯é—¨æ§›

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯æ ˆ

- **Spring Boot 2.7+** - ä¼ä¸šçº§åº”ç”¨æ¡†æ¶ï¼Œæä¾›ä¾èµ–æ³¨å…¥å’Œè‡ªåŠ¨é…ç½®
- **JOLT** - JSON åˆ° JSON çš„è½¬æ¢åº“ï¼Œå®ç°çµæ´»çš„æ•°æ®ç»“æ„è½¬æ¢
- **Jackson** - JSON å¤„ç†åº“ï¼Œé«˜æ€§èƒ½çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–
- **Maven** - é¡¹ç›®æ„å»ºå’Œä¾èµ–ç®¡ç†å·¥å…·
- **JUnit 5** - å•å…ƒæµ‹è¯•æ¡†æ¶ï¼Œç¡®ä¿ä»£ç è´¨é‡
- **H2 Database** - å†…å­˜æ•°æ®åº“ï¼Œç”¨äºå¼€å‘å’Œæµ‹è¯•ç¯å¢ƒ

### å‰ç«¯æŠ€æœ¯æ ˆ

- **Vue 3** - æ¸è¿›å¼ JavaScript æ¡†æ¶ï¼Œé‡‡ç”¨ Composition API
- **TypeScript** - JavaScript çš„è¶…é›†ï¼Œæä¾›é™æ€ç±»å‹æ£€æŸ¥
- **ECharts 5.4+** - æ•°æ®å¯è§†åŒ–åº“ï¼Œæ”¯æŒä¸°å¯Œçš„å›¾è¡¨ç±»å‹
- **Ant Design Vue** - ä¼ä¸šçº§ UI ç»„ä»¶åº“
- **Pinia** - Vue çŠ¶æ€ç®¡ç†åº“ï¼Œæä¾›å“åº”å¼çŠ¶æ€ç®¡ç†
- **Vite** - ä¸‹ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ï¼Œå¿«é€Ÿçƒ­é‡è½½

## ğŸ—„ï¸ æ•°æ®åº“é›†æˆæŒ‡å—

### ğŸ“Š **å½“å‰å®ç°æ–¹å¼**

ç³»ç»Ÿå½“å‰ä½¿ç”¨**å†…å­˜æ¨¡æ‹Ÿ**æ–¹å¼å®ç°æ•°æ®å±‚ï¼Œé€šè¿‡ `UniversalChartDataService` ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®ï¼Œä¾¿äºå¼€å‘å’Œæ¼”ç¤ºï¼š

#### **æ¨¡æ‹Ÿæ•°æ®ç»“æ„**

```java
// ç»Ÿä¸€æ•°æ®è§†å›¾æ¨¡æ‹Ÿå®ç°
public class UniversalChartDataService {
    // ç”Ÿæˆ 5ä¸ªæ¸ é“ Ã— 7å¤© = 35æ¡è®°å½•
    // æ¸ é“ï¼šEmail, Union Ads, Video Ads, Direct, Search Engine
    // æ—¶é—´ï¼šå‘¨ä¸€åˆ°å‘¨æ—¥
    // æ•°å€¼ï¼šè½¬æ¢æ•°é‡ã€ç‚¹å‡»æ•°é‡ã€ç™¾åˆ†æ¯”ç­‰
}
```

#### **æ¨¡æ‹ŸæŸ¥è¯¢é€»è¾‘**

- **æŒ‰å›¾è¡¨ç±»å‹æŸ¥è¯¢**ï¼š`getDataByChartType(String chartType)`
- **å ä½ç¬¦æ•°æ®æå–**ï¼š`extractDataFromUniversalView(String chartId, Set<String> placeholders)`
- **å­—æ®µæ˜ å°„è½¬æ¢**ï¼šåŸºäº `fieldExtractors` è¿›è¡Œæ•°æ®ç±»å‹è½¬æ¢

### ğŸ”„ **åˆ‡æ¢åˆ°çœŸå®æ•°æ®åº“**

#### **éœ€è¦æ”¹é€ çš„æ ¸å¿ƒæ–‡ä»¶**

##### **1. MappingRelationshipService.java**

å½“å‰å®ç°ä¾èµ–å†…å­˜æ¨¡æ‹Ÿï¼Œåˆ‡æ¢åˆ°æ•°æ®åº“éœ€è¦æ›¿æ¢ä»¥ä¸‹æ–¹æ³•ï¼š

```java
// å½“å‰æ¨¡æ‹Ÿå®ç°
public Map<String, Object> simulateDataQuery(String chartId, Set<String> placeholders) {
    // ç”ŸæˆMockæ•°æ®
}

// æ•°æ®åº“å®ç°ç‰ˆæœ¬
@Autowired
private UniversalChartDataRepository universalDataRepository;

public Map<String, Object> executeDataQuery(String chartId, Set<String> placeholders) {
    // 1. æ ¹æ®chartIdæŸ¥è¯¢å¯¹åº”çš„æ•°æ®
    List<UniversalChartDataView> dataList = universalDataRepository.findByChartType(chartId);

    // 2. åŸºäºå ä½ç¬¦æå–æ‰€éœ€å­—æ®µ
    Map<String, Object> result = new HashMap<>();
    for (String placeholder : placeholders) {
        Object value = extractPlaceholderValue(placeholder, dataList);
        result.put(placeholder, value);
    }

    return result;
}
```

##### **2. Repository æ¥å£å’Œå®ç°ç±»**

```java
// UniversalChartDataRepository.java
@Repository
public interface UniversalChartDataRepository extends JpaRepository<UniversalChartDataView, Long> {

    // æ ¹æ®å›¾è¡¨ç±»å‹æŸ¥è¯¢æ•°æ®
    List<UniversalChartDataView> findByChartType(String chartType);

    // æ ¹æ®æ—¶é—´èŒƒå›´æŸ¥è¯¢
    List<UniversalChartDataView> findByDateBetween(LocalDate startDate, LocalDate endDate);

    // æ ¹æ®æ¸ é“æŸ¥è¯¢
    List<UniversalChartDataView> findByChannelName(String channelName);

    // å¤åˆæŸ¥è¯¢
    @Query("SELECT u FROM UniversalChartDataView u WHERE u.chartType = ?1 AND u.date BETWEEN ?2 AND ?3")
    List<UniversalChartDataView> findChartDataByTypeAndDateRange(String chartType, LocalDate startDate, LocalDate endDate);
}
```

##### **3. æ•°æ®æ¨¡å‹ç±»æŒä¹…åŒ–æ³¨è§£**

```java
// UniversalChartDataView.java éœ€è¦æ·»åŠ JPAæ³¨è§£
@Entity
@Table(name = "universal_chart_data_view")
public class UniversalChartDataView {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "id")
    private Long id;

    @Column(name = "title", length = 255)
    private String title;

    @Column(name = "chart_type", length = 100)
    private String chartType;

    @Column(name = "date")
    private LocalDate date;

    // ... å…¶ä»–40ä¸ªå­—æ®µçš„JPAæ˜ å°„æ³¨è§£
}
```

#### **æ•°æ®åº“è¡¨ç»“æ„è®¾è®¡**

##### **æ ¸å¿ƒè¡¨ç»“æ„**

```sql
-- ç»Ÿä¸€å›¾è¡¨æ•°æ®è§†å›¾è¡¨
CREATE TABLE universal_chart_data_view (
    -- åŸºç¡€ä¿¡æ¯å­—æ®µ (1-8)
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(255) COMMENT 'å›¾è¡¨æ ‡é¢˜',
    chart_type VARCHAR(100) COMMENT 'å›¾è¡¨ç±»å‹',
    theme VARCHAR(50) COMMENT 'å›¾è¡¨ä¸»é¢˜',
    description TEXT COMMENT 'å›¾è¡¨æè¿°',
    data_source VARCHAR(100) COMMENT 'æ•°æ®æºæ ‡è¯†',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',

    -- æ—¶é—´ç»´åº¦å­—æ®µ (9-16)
    date DATE COMMENT 'æ—¥æœŸ',
    day_name VARCHAR(10) COMMENT 'æ—¥æœŸåç§°',
    month INT COMMENT 'æœˆä»½',
    month_name VARCHAR(10) COMMENT 'æœˆä»½åç§°',
    year INT COMMENT 'å¹´ä»½',
    quarter INT COMMENT 'å­£åº¦',
    week_number INT COMMENT 'å‘¨æ•°',
    timestamp BIGINT COMMENT 'æ—¶é—´æˆ³',

    -- åˆ†ç±»æ•°æ®å­—æ®µ (17-24)
    category VARCHAR(100) COMMENT 'ä¸»åˆ†ç±»',
    sub_category VARCHAR(100) COMMENT 'å­åˆ†ç±»',
    channel_name VARCHAR(100) COMMENT 'æ¸ é“åç§°',
    channel_type VARCHAR(50) COMMENT 'æ¸ é“ç±»å‹',
    product_name VARCHAR(100) COMMENT 'äº§å“åç§°',
    product_type VARCHAR(50) COMMENT 'äº§å“ç±»å‹',
    region VARCHAR(50) COMMENT 'åœ°åŒº',
    department VARCHAR(50) COMMENT 'éƒ¨é—¨',

    -- æ•°å€¼å­—æ®µ (25-32)
    value DECIMAL(15,2) COMMENT 'ä¸»è¦æ•°å€¼',
    conversion_count INT COMMENT 'è½¬æ¢æ•°é‡',
    click_count INT COMMENT 'ç‚¹å‡»æ•°é‡',
    view_count INT COMMENT 'æµè§ˆæ•°é‡',
    percentage DECIMAL(5,2) COMMENT 'ç™¾åˆ†æ¯”',
    ratio DECIMAL(10,4) COMMENT 'æ¯”ç‡',
    amount DECIMAL(15,2) COMMENT 'é‡‘é¢',
    quantity INT COMMENT 'æ•°é‡',

    -- é…ç½®å­—æ®µ (33-40)
    color VARCHAR(50) COMMENT 'é¢œè‰²é…ç½®',
    style VARCHAR(100) COMMENT 'æ ·å¼é…ç½®',
    radius VARCHAR(50) COMMENT 'åŠå¾„é…ç½®',
    center VARCHAR(50) COMMENT 'ä¸­å¿ƒä½ç½®é…ç½®',
    stack_group VARCHAR(50) COMMENT 'å †å ç»„',
    smooth_style BOOLEAN COMMENT 'å¹³æ»‘æ ·å¼',
    boundary_gap BOOLEAN COMMENT 'è¾¹ç•Œé—´éš™',
    extra_config TEXT COMMENT 'æ‰©å±•é…ç½®JSONæ ¼å¼',

    -- ç´¢å¼•ä¼˜åŒ–
    INDEX idx_chart_type (chart_type),
    INDEX idx_date (date),
    INDEX idx_channel (channel_name),
    INDEX idx_composite (chart_type, date, channel_name)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='ç»Ÿä¸€å›¾è¡¨æ•°æ®è§†å›¾è¡¨';
```

#### **é…ç½®å˜æ›´æ­¥éª¤**

##### **1. æ·»åŠ æ•°æ®åº“ä¾èµ–**

```xml
<!-- pom.xml -->
<dependencies>
    <!-- Spring Data JPA -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-data-jpa</artifactId>
    </dependency>

    <!-- MySQLé©±åŠ¨ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰ -->
    <dependency>
        <groupId>mysql</groupId>
        <artifactId>mysql-connector-java</artifactId>
        <scope>runtime</scope>
    </dependency>

    <!-- H2æ•°æ®åº“ï¼ˆå¼€å‘æµ‹è¯•ï¼‰ -->
    <dependency>
        <groupId>com.h2database</groupId>
        <artifactId>h2</artifactId>
        <scope>runtime</scope>
    </dependency>
</dependencies>
```

##### **2. é…ç½®æ•°æ®æº**

```yaml
# application.yml
spring:
  # å¼€å‘ç¯å¢ƒé…ç½®
  profiles:
    active: dev

---
# å¼€å‘ç¯å¢ƒ
spring:
  profiles: dev
  datasource:
    url: jdbc:h2:mem:testdb
    driverClassName: org.h2.Driver
    username: sa
    password: password
  h2:
    console:
      enabled: true
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: true

---
# ç”Ÿäº§ç¯å¢ƒ
spring:
  profiles: prod
  datasource:
    url: jdbc:mysql://localhost:3306/chart_system
    username: ${DB_USERNAME:root}
    password: ${DB_PASSWORD:password}
    driver-class-name: com.mysql.cj.jdbc.Driver
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
```

##### **3. æ•°æ®è¿ç§»è„šæœ¬**

```sql
-- data.sql (åˆå§‹åŒ–æ•°æ®è„šæœ¬)
INSERT INTO universal_chart_data_view (
    title, chart_type, date, day_name, channel_name, conversion_count,
    click_count, value, stack_group, smooth_style, boundary_gap
) VALUES
('è¥é”€æ¸ é“åˆ†æ', 'basic_line_chart', '2024-01-01', 'å‘¨ä¸€', 'Email', 120, 1200, 85.5, null, false, false),
('è¥é”€æ¸ é“åˆ†æ', 'basic_line_chart', '2024-01-02', 'å‘¨äºŒ', 'Email', 132, 1350, 87.2, null, false, false),
-- ... æ›´å¤šæµ‹è¯•æ•°æ®

-- å †å å›¾æ•°æ®
('å †å æ¸ é“åˆ†æ', 'stacked_line_chart', '2024-01-01', 'å‘¨ä¸€', 'Email', 120, 1200, 85.5, 'Total', false, false),
('å †å æ¸ é“åˆ†æ', 'stacked_line_chart', '2024-01-01', 'å‘¨ä¸€', 'Union Ads', 220, 2200, 78.3, 'Total', false, false);
```

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
jolt-echarts/
â”œâ”€â”€ src/main/java/com/example/chart/
â”‚   â”œâ”€â”€ controller/                    # REST APIæ§åˆ¶å™¨
â”‚   â”‚   â””â”€â”€ TwoStageTransformationController.java
â”‚   â”œâ”€â”€ service/                       # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ TwoStageTransformationService.java      # ä¸¤é˜¶æ®µè½¬æ¢ä¸»æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ SmartTransformationEngine.java          # æ™ºèƒ½è½¬æ¢å¼•æ“
â”‚   â”‚   â”œâ”€â”€ MappingRelationshipService.java         # æ˜ å°„å…³ç³»ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ CategoryTemplateFactory.java            # åˆ†ç±»æ¨¡æ¿å·¥å‚
â”‚   â”‚   â”œâ”€â”€ PlaceholderManager.java                 # å ä½ç¬¦ç®¡ç†å™¨
â”‚   â”‚   â””â”€â”€ UniversalChartDataService.java          # ç»Ÿä¸€æ•°æ®æœåŠ¡
â”‚   â”œâ”€â”€ model/                         # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ UniversalChartDataView.java              # 40å­—æ®µç»Ÿä¸€æ•°æ®è§†å›¾
â”‚   â”‚   â”œâ”€â”€ TemplateType.java                       # å››å¤§æ¨¡æ¿ç±»å‹æšä¸¾
â”‚   â”‚   â””â”€â”€ TransformationResult.java               # è½¬æ¢ç»“æœå°è£…
â”‚   â””â”€â”€ config/                        # é…ç½®ç±»
â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ jolt-specs/                    # JOLTè½¬æ¢è§„èŒƒæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ line-chart-placeholder.json              # æŠ˜çº¿å›¾è½¬æ¢è§„èŒƒ
â”‚   â”‚   â”œâ”€â”€ line-chart-stacked.json                 # å †å æŠ˜çº¿å›¾è§„èŒƒ
â”‚   â”‚   â”œâ”€â”€ bar-chart-placeholder.json              # æŸ±çŠ¶å›¾è½¬æ¢è§„èŒƒ
â”‚   â”‚   â”œâ”€â”€ pie-chart-placeholder.json              # é¥¼å›¾è½¬æ¢è§„èŒƒ
â”‚   â”‚   â”œâ”€â”€ radar-chart-placeholder.json            # é›·è¾¾å›¾è½¬æ¢è§„èŒƒ
â”‚   â”‚   â””â”€â”€ gauge-chart-placeholder.json            # ä»ªè¡¨ç›˜è½¬æ¢è§„èŒƒ
â”‚   â””â”€â”€ echarts/                       # EChartsç¤ºä¾‹æ–‡ä»¶
â”‚       â”œâ”€â”€ æŠ˜çº¿å›¾/                    # æŠ˜çº¿å›¾ç¤ºä¾‹
â”‚       â”œâ”€â”€ æŸ±çŠ¶å›¾/                    # æŸ±çŠ¶å›¾ç¤ºä¾‹
â”‚       â”œâ”€â”€ é¥¼å›¾/                      # é¥¼å›¾ç¤ºä¾‹
â”‚       â”œâ”€â”€ é›·è¾¾å›¾/                    # é›·è¾¾å›¾ç¤ºä¾‹
â”‚       â””â”€â”€ ä»ªè¡¨ç›˜/                    # ä»ªè¡¨ç›˜ç¤ºä¾‹
â”œâ”€â”€ frontend/                          # Vue 3å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ views/Transformation/      # è½¬æ¢æ¼”ç¤ºé¡µé¢
â”‚   â”‚   â”œâ”€â”€ api/                       # APIæ¥å£å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ stores/                    # PiniaçŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ components/                # Vueç»„ä»¶
â”‚   â”œâ”€â”€ package.json                   # å‰ç«¯ä¾èµ–é…ç½®
â”‚   â””â”€â”€ vite.config.ts                 # Viteæ„å»ºé…ç½®
â””â”€â”€ src/test/java/                     # æµ‹è¯•ä»£ç 
    â””â”€â”€ com/example/chart/
        â”œâ”€â”€ CategoryTemplateCompatibilityTest.java  # æ¨¡æ¿å…¼å®¹æ€§æµ‹è¯•
        â””â”€â”€ TwoStageTransformationTest.java         # ç«¯åˆ°ç«¯è½¬æ¢æµ‹è¯•
```

## ğŸš€ å¿«é€Ÿå¼€å§‹æŒ‡å—

### ğŸ“‹ **ç¯å¢ƒè¦æ±‚**

#### åç«¯ç¯å¢ƒ

- **Java 8+** (æ¨è Java 11)
- **Maven 3.6+**
- **Spring Boot 2.7+**

#### å‰ç«¯ç¯å¢ƒ

- **Node.js 16+** (æ¨è 18+)
- **npm 8+** æˆ– **yarn 1.22+**

### ğŸ› ï¸ **é¡¹ç›®å¯åŠ¨æ­¥éª¤**

#### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd jolt-echarts
```

#### 2. å¯åŠ¨åç«¯æœåŠ¡

```bash
# å®‰è£…ä¾èµ–å¹¶ç¼–è¯‘
mvn clean compile

# å¯åŠ¨Spring Bootåº”ç”¨
mvn spring-boot:run -DskipTests

# æœåŠ¡å¯åŠ¨åè®¿é—®ï¼šhttp://localhost:8080
# APIæ–‡æ¡£ï¼šhttp://localhost:8080/swagger-ui.html (å¦‚å·²é…ç½®)
```

#### 3. å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# å‰ç«¯åº”ç”¨è®¿é—®ï¼šhttp://localhost:3000
```

### ğŸ“Š **API ä½¿ç”¨ç¤ºä¾‹**

#### è·å–åˆ†ç±»æ¨¡æ¿

```bash
curl -X GET "http://localhost:8080/api/chart/two-stage/template/stacked_line_chart" \
     -H "Content-Type: application/json"
```

å“åº”ç¤ºä¾‹ï¼š

```json
{
  "success": true,
  "data": {
    "chartMeta": {
      "title": "${chart_title}",
      "type": "${chart_type}"
    },
    "categories": "${categories}",
    "series": [
      {
        "name": "${series_1_name}",
        "data": "${series_1_data}",
        "stack": "${stack_group}"
      }
    ]
  }
}
```

#### æ‰§è¡Œç¬¬ä¸€é˜¶æ®µè½¬æ¢

```bash
curl -X POST "http://localhost:8080/api/chart/two-stage/stage1/stacked_line_chart" \
     -H "Content-Type: application/json" \
     -d '{
       "chartMeta": {"title": "è¥é”€æ¸ é“åˆ†æ", "type": "line"},
       "categories": ["å‘¨ä¸€", "å‘¨äºŒ", "å‘¨ä¸‰", "å‘¨å››", "å‘¨äº”"],
       "series": [{"name": "Email", "data": [120, 132, 101, 134, 90]}]
     }'
```

#### æ‰§è¡Œç¬¬äºŒé˜¶æ®µè½¬æ¢

```bash
curl -X POST "http://localhost:8080/api/chart/two-stage/stage2/stacked_line_chart" \
     -H "Content-Type: application/json" \
     -d '{
       "title": {"text": "${chart_title}"},
       "xAxis": {"data": "${categories}"},
       "series": [{"name": "${series_1_name}", "data": "${series_1_data}"}]
     }'
```

## ğŸ“ æ–‡ä»¶æ¨¡æ¿ç®¡ç†ç³»ç»Ÿ

### ğŸ¯ **ç³»ç»Ÿæ¦‚è¿°**

æ–‡ä»¶æ¨¡æ¿ç®¡ç†ç³»ç»Ÿæä¾›åŸºäºæ–‡ä»¶çš„æ¨¡æ¿å’ŒJOLTè§„èŒƒç®¡ç†åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ä¸Šä¼ ã€ä¸‹è½½ã€å…³è”ç­‰æ–¹å¼ç®¡ç†EChartsç¤ºä¾‹æ–‡ä»¶å’ŒJOLTè½¬æ¢è§„èŒƒã€‚

### ğŸ—ï¸ **æ ¸å¿ƒåŠŸèƒ½**

#### **1. æ¨¡æ¿æ–‡ä»¶ç®¡ç†**
- ä¸Šä¼ EChartsç¤ºä¾‹JSONæ–‡ä»¶åˆ°æŒ‡å®šåˆ†ç±»ç›®å½•
- ä¸‹è½½ç°æœ‰æ¨¡æ¿æ–‡ä»¶
- åˆ é™¤ä¸éœ€è¦çš„æ¨¡æ¿æ–‡ä»¶
- æŸ¥çœ‹æ¨¡æ¿æ–‡ä»¶åˆ—è¡¨å’Œè¯¦ç»†ä¿¡æ¯

#### **2. JOLTè§„èŒƒç®¡ç†**
- ä¸Šä¼ JOLTè½¬æ¢è§„èŒƒJSONæ–‡ä»¶
- ä¸‹è½½ç°æœ‰JOLTè§„èŒƒæ–‡ä»¶
- åˆ é™¤ä¸éœ€è¦çš„JOLTè§„èŒƒæ–‡ä»¶
- æŸ¥çœ‹JOLTè§„èŒƒæ–‡ä»¶åˆ—è¡¨å’Œè¯¦ç»†ä¿¡æ¯

#### **3. å…³è”å…³ç³»ç®¡ç†**
- å»ºç«‹æ¨¡æ¿æ–‡ä»¶ä¸JOLTè§„èŒƒçš„å…³è”å…³ç³»
- æŸ¥çœ‹æ¨¡æ¿å…³è”çš„JOLTè§„èŒƒ
- åˆ é™¤æ¨¡æ¿ä¸JOLTè§„èŒƒçš„å…³è”å…³ç³»
- æŸ¥çœ‹æœªå…³è”çš„æ¨¡æ¿å’ŒJOLTè§„èŒƒ

#### **4. æ¨¡æ¿æµ‹è¯•åŠŸèƒ½**
- æŸ¥çœ‹æ¨¡æ¿æ–‡ä»¶å’ŒJOLTè§„èŒƒæ–‡ä»¶çš„å†…å®¹
- æµ‹è¯•æ¨¡æ¿ä¸JOLTè§„èŒƒçš„è½¬æ¢è¿‡ç¨‹
- æå–æ¨¡æ¿ä¸­çš„å ä½ç¬¦

### ğŸ“¡ **API æ¥å£åˆ—è¡¨**

#### **æ¨¡æ¿æ–‡ä»¶ç®¡ç†æ¥å£**

- `GET /api/file-templates/templates` - è·å–æ¨¡æ¿æ–‡ä»¶åˆ—è¡¨
- `POST /api/file-templates/templates/upload` - ä¸Šä¼ æ¨¡æ¿æ–‡ä»¶
- `GET /api/file-templates/templates/download/{category}/{filename}` - ä¸‹è½½æ¨¡æ¿æ–‡ä»¶
- `DELETE /api/file-templates/templates/{category}/{filename}` - åˆ é™¤æ¨¡æ¿æ–‡ä»¶
- `GET /api/file-templates/categories` - è·å–æ”¯æŒçš„å›¾è¡¨åˆ†ç±»åˆ—è¡¨

#### **JOLTè§„èŒƒç®¡ç†æ¥å£**

- `GET /api/file-templates/jolt-specs` - è·å–JOLTè§„èŒƒæ–‡ä»¶åˆ—è¡¨
- `POST /api/file-templates/jolt-specs/upload` - ä¸Šä¼ JOLTè§„èŒƒæ–‡ä»¶
- `GET /api/file-templates/jolt-specs/download/{filename}` - ä¸‹è½½JOLTè§„èŒƒæ–‡ä»¶
- `DELETE /api/file-templates/jolt-specs/{filename}` - åˆ é™¤JOLTè§„èŒƒæ–‡ä»¶

#### **å…³è”å…³ç³»ç®¡ç†æ¥å£**

- `GET /api/file-template-relations` - è·å–æ‰€æœ‰å…³è”å…³ç³»
- `POST /api/file-template-relations/{templatePath}/jolt-spec/{joltSpec}` - è®¾ç½®æ¨¡æ¿çš„JOLTè§„èŒƒ
- `GET /api/file-template-relations/{templatePath}/jolt-spec` - è·å–æ¨¡æ¿å…³è”çš„JOLTè§„èŒƒ
- `DELETE /api/file-template-relations/{templatePath}/jolt-spec` - åˆ é™¤æ¨¡æ¿çš„JOLTè§„èŒƒå…³è”
- `GET /api/file-template-relations/unassociated-templates` - è·å–æœªå…³è”JOLTè§„èŒƒçš„æ¨¡æ¿åˆ—è¡¨
- `GET /api/file-template-relations/unassociated-jolt-specs` - è·å–æœªè¢«ä»»ä½•æ¨¡æ¿å…³è”çš„JOLTè§„èŒƒåˆ—è¡¨

#### **æ¨¡æ¿æµ‹è¯•æ¥å£**

- `GET /api/file-template-tests/templates/{category}/{filename}` - è·å–æ¨¡æ¿æ–‡ä»¶å†…å®¹
- `GET /api/file-template-tests/jolt-specs/{filename}` - è·å–JOLTè§„èŒƒæ–‡ä»¶å†…å®¹
- `POST /api/file-template-tests/test-conversion` - æµ‹è¯•æ¨¡æ¿ä¸JOLTè§„èŒƒçš„è½¬æ¢
- `POST /api/file-template-tests/extract-placeholders` - æå–æ¨¡æ¿ä¸­çš„å ä½ç¬¦

### ğŸ“‹ **ä½¿ç”¨ç¤ºä¾‹**

#### ä¸Šä¼ æ¨¡æ¿æ–‡ä»¶

```bash
curl -X POST "http://localhost:8080/api/file-templates/templates/upload" \
     -H "Content-Type: multipart/form-data" \
     -F "file=@åŸºç¡€æŠ˜çº¿å›¾.json" \
     -F "category=æŠ˜çº¿å›¾" \
     -F "description=åŸºç¡€æŠ˜çº¿å›¾ç¤ºä¾‹"
```

#### ä¸Šä¼ JOLTè§„èŒƒæ–‡ä»¶

```bash
curl -X POST "http://localhost:8080/api/file-templates/jolt-specs/upload" \
     -H "Content-Type: multipart/form-data" \
     -F "file=@line-chart-placeholder.json" \
     -F "description=æŠ˜çº¿å›¾JOLTè½¬æ¢è§„èŒƒ"
```

#### è®¾ç½®æ¨¡æ¿ä¸JOLTè§„èŒƒçš„å…³è”

```bash
curl -X POST "http://localhost:8080/api/file-template-relations/æŠ˜çº¿å›¾/åŸºç¡€æŠ˜çº¿å›¾.json/jolt-spec/line-chart-placeholder.json"
```

#### æµ‹è¯•æ¨¡æ¿è½¬æ¢

```bash
curl -X POST "http://localhost:8080/api/file-template-tests/test-conversion" \
     -H "Content-Type: application/json" \
     -d '{
       "templatePath": "æŠ˜çº¿å›¾/åŸºç¡€æŠ˜çº¿å›¾.json",
       "joltSpec": "line-chart-placeholder.json"
     }'
```